"use strict";(self.webpackChunkretail_pos=self.webpackChunkretail_pos||[]).push([[201],{7201:(b,E,i)=>{i.d(E,{TemplatesComponent:()=>G});var r=i(375),_=i(9769),c=i(4341),h=i(8659),g=i(9137),M=i(7314),t=i(5547),m=i(8914),u=i(345),S=i(6845),v=i(8397);function x(n,p){1&n&&(t.j41(0,"div",10)(1,"p"),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"TEMPLATES.LOADING")))}function w(n,p){1&n&&(t.j41(0,"span",24),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"TEMPLATES.DEFAULT_BADGE")))}function y(n,p){if(1&n){const e=t.RV6();t.j41(0,"button",25),t.bIt("click",function(){r.eBV(e);const s=t.XpG().$implicit,a=t.XpG(3);return r.Njj(a.setAsDefault(s))}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"TEMPLATES.SET_DEFAULT")," "))}function k(n,p){1&n&&(t.j41(0,"span",26),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"TEMPLATES.CURRENT_DEFAULT")))}function A(n,p){if(1&n){const e=t.RV6();t.j41(0,"div",13)(1,"div",14)(2,"h3"),t.EFF(3),t.k0s(),t.j41(4,"p"),t.EFF(5),t.k0s(),t.j41(6,"div",15)(7,"span",16),t.EFF(8),t.k0s(),t.j41(9,"span",16),t.EFF(10),t.k0s(),t.DNE(11,w,3,3,"span",17),t.k0s()(),t.j41(12,"div",18),t.nrm(13,"div",19),t.k0s(),t.j41(14,"div",20)(15,"button",21),t.bIt("click",function(){const s=r.eBV(e).$implicit,a=t.XpG(3);return r.Njj(a.selectTemplate(s))}),t.EFF(16),t.nI1(17,"translate"),t.k0s(),t.DNE(18,y,3,3,"button",22)(19,k,3,3,"span",23),t.k0s()()}if(2&n){const e=p.$implicit,o=t.XpG(3);t.R7$(3),t.JRh(e.name),t.R7$(2),t.JRh(e.description),t.R7$(3),t.JRh(e.templateType),t.R7$(2),t.JRh(e.paperSize),t.R7$(),t.Y8G("ngIf",e.isDefault),t.R7$(2),t.Y8G("innerHTML",o.sanitizer.bypassSecurityTrustHtml(o.generateTemplatePreview(e)),t.npT),t.R7$(3),t.SpI(" ",t.bMT(17,9,"TEMPLATES.EDIT")," "),t.R7$(2),t.Y8G("ngIf",!e.isDefault),t.R7$(),t.Y8G("ngIf",e.isDefault)}}function R(n,p){if(1&n&&(t.j41(0,"div",11),t.DNE(1,A,20,11,"div",12),t.k0s()),2&n){const e=t.XpG(2);t.R7$(),t.Y8G("ngForOf",e.templates())}}function I(n,p){1&n&&(t.j41(0,"div",27)(1,"p"),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"TEMPLATES.NO_TEMPLATES")))}function j(n,p){if(1&n&&(t.j41(0,"div",6),t.DNE(1,x,4,3,"div",7)(2,R,2,1,"div",8)(3,I,4,3,"div",9),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.Y8G("ngIf",e.isLoading()),t.R7$(),t.Y8G("ngIf",!e.isLoading()&&e.templates().length>0),t.R7$(),t.Y8G("ngIf",!e.isLoading()&&0===e.templates().length)}}function L(n,p){if(1&n&&(t.j41(0,"span",112),t.EFF(1),t.k0s()),2&n){const e=t.XpG(2);t.R7$(),t.SpI(" ",e.getFieldError("name")," ")}}function N(n,p){1&n&&(t.j41(0,"div",71)(1,"select",113)(2,"option",73),t.EFF(3,"S"),t.k0s(),t.j41(4,"option",74),t.EFF(5,"M"),t.k0s(),t.j41(6,"option",75),t.EFF(7,"L"),t.k0s()(),t.j41(8,"select",114)(9,"option",77),t.EFF(10,"Mono"),t.k0s(),t.j41(11,"option",78),t.EFF(12,"Sans"),t.k0s(),t.j41(13,"option",79),t.EFF(14,"Serif"),t.k0s()(),t.j41(15,"label",80),t.nrm(16,"input",115),t.j41(17,"span"),t.EFF(18,"B"),t.k0s()()())}function $(n,p){1&n&&(t.j41(0,"div",71)(1,"select",116)(2,"option",73),t.EFF(3,"S"),t.k0s(),t.j41(4,"option",74),t.EFF(5,"M"),t.k0s(),t.j41(6,"option",75),t.EFF(7,"L"),t.k0s()(),t.j41(8,"select",117)(9,"option",77),t.EFF(10,"Mono"),t.k0s(),t.j41(11,"option",78),t.EFF(12,"Sans"),t.k0s(),t.j41(13,"option",79),t.EFF(14,"Serif"),t.k0s()(),t.j41(15,"label",80),t.nrm(16,"input",118),t.j41(17,"span"),t.EFF(18,"B"),t.k0s()()())}function D(n,p){1&n&&(t.j41(0,"div",71)(1,"select",119)(2,"option",73),t.EFF(3,"S"),t.k0s(),t.j41(4,"option",74),t.EFF(5,"M"),t.k0s(),t.j41(6,"option",75),t.EFF(7,"L"),t.k0s()(),t.j41(8,"select",120)(9,"option",77),t.EFF(10,"Mono"),t.k0s(),t.j41(11,"option",78),t.EFF(12,"Sans"),t.k0s(),t.j41(13,"option",79),t.EFF(14,"Serif"),t.k0s()(),t.j41(15,"label",80),t.nrm(16,"input",121),t.j41(17,"span"),t.EFF(18,"B"),t.k0s()()())}function z(n,p){1&n&&(t.j41(0,"div",71)(1,"select",122)(2,"option",73),t.EFF(3,"S"),t.k0s(),t.j41(4,"option",74),t.EFF(5,"M"),t.k0s(),t.j41(6,"option",75),t.EFF(7,"L"),t.k0s()(),t.j41(8,"select",123)(9,"option",77),t.EFF(10,"Mono"),t.k0s(),t.j41(11,"option",78),t.EFF(12,"Sans"),t.k0s(),t.j41(13,"option",79),t.EFF(14,"Serif"),t.k0s()(),t.j41(15,"label",80),t.nrm(16,"input",124),t.j41(17,"span"),t.EFF(18,"B"),t.k0s()()())}function B(n,p){if(1&n){const e=t.RV6();t.j41(0,"button",125),t.bIt("click",function(){r.eBV(e);const s=t.XpG(2);return r.Njj(s.deleteTemplate())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"TEMPLATES.ACTIONS.DELETE")," "))}function U(n,p){if(1&n){const e=t.RV6();t.j41(0,"div",28)(1,"h2"),t.EFF(2),t.nI1(3,"translate"),t.nI1(4,"translate"),t.k0s(),t.j41(5,"div",29)(6,"div",30)(7,"form",31)(8,"div",32)(9,"h3"),t.EFF(10),t.nI1(11,"translate"),t.k0s(),t.j41(12,"div",33)(13,"label"),t.EFF(14),t.nI1(15,"translate"),t.k0s(),t.nrm(16,"input",34),t.nI1(17,"translate"),t.DNE(18,L,2,1,"span",35),t.k0s(),t.j41(19,"div",33)(20,"label"),t.EFF(21),t.nI1(22,"translate"),t.k0s(),t.nrm(23,"textarea",36),t.nI1(24,"translate"),t.k0s(),t.j41(25,"div",37)(26,"div",33)(27,"label"),t.EFF(28),t.nI1(29,"translate"),t.k0s(),t.j41(30,"select",38)(31,"option",39),t.EFF(32),t.nI1(33,"translate"),t.k0s(),t.j41(34,"option",40),t.EFF(35),t.nI1(36,"translate"),t.k0s(),t.j41(37,"option",41),t.EFF(38),t.nI1(39,"translate"),t.k0s()()(),t.j41(40,"div",33)(41,"label"),t.EFF(42),t.nI1(43,"translate"),t.k0s(),t.j41(44,"select",42)(45,"option",43),t.EFF(46),t.nI1(47,"translate"),t.k0s(),t.j41(48,"option",44),t.EFF(49),t.nI1(50,"translate"),t.k0s(),t.j41(51,"option",45),t.EFF(52),t.nI1(53,"translate"),t.k0s()()()()(),t.j41(54,"div",32)(55,"h3"),t.EFF(56),t.nI1(57,"translate"),t.k0s(),t.j41(58,"div",46),t.nrm(59,"input",47),t.j41(60,"label",48),t.EFF(61),t.nI1(62,"translate"),t.k0s()(),t.j41(63,"div",33)(64,"label"),t.EFF(65,"Store Name"),t.k0s(),t.j41(66,"div",49),t.nrm(67,"input",50),t.nI1(68,"translate"),t.j41(69,"app-toggle-switch",51),t.bIt("change",function(s){r.eBV(e);const a=t.XpG();return r.Njj(a.templateForm.patchValue({showStoreName:s}))}),t.k0s()(),t.DNE(70,N,19,0,"div",52),t.k0s(),t.j41(71,"div",33)(72,"label"),t.EFF(73,"Store Address"),t.k0s(),t.j41(74,"div",49),t.nrm(75,"input",53),t.nI1(76,"translate"),t.j41(77,"app-toggle-switch",51),t.bIt("change",function(s){r.eBV(e);const a=t.XpG();return r.Njj(a.templateForm.patchValue({showStoreAddress:s}))}),t.k0s()(),t.DNE(78,$,19,0,"div",52),t.k0s(),t.j41(79,"div",37)(80,"div",33)(81,"label"),t.EFF(82,"Store Phone"),t.k0s(),t.j41(83,"div",49),t.nrm(84,"input",54),t.nI1(85,"translate"),t.j41(86,"app-toggle-switch",51),t.bIt("change",function(s){r.eBV(e);const a=t.XpG();return r.Njj(a.templateForm.patchValue({showStorePhone:s}))}),t.k0s()(),t.DNE(87,D,19,0,"div",52),t.k0s(),t.j41(88,"div",33)(89,"label"),t.EFF(90,"Store Email"),t.k0s(),t.j41(91,"div",49),t.nrm(92,"input",55),t.nI1(93,"translate"),t.j41(94,"app-toggle-switch",51),t.bIt("change",function(s){r.eBV(e);const a=t.XpG();return r.Njj(a.templateForm.patchValue({showStoreEmail:s}))}),t.k0s()(),t.DNE(95,z,19,0,"div",52),t.k0s()()(),t.j41(96,"div",32)(97,"h3"),t.EFF(98,"Item Details"),t.k0s(),t.j41(99,"div",56)(100,"div",46),t.nrm(101,"input",57),t.j41(102,"label",58),t.EFF(103),t.nI1(104,"translate"),t.k0s()(),t.j41(105,"div",46),t.nrm(106,"input",59),t.j41(107,"label",60),t.EFF(108),t.nI1(109,"translate"),t.k0s()(),t.j41(110,"div",46),t.nrm(111,"input",61),t.j41(112,"label",62),t.EFF(113),t.nI1(114,"translate"),t.k0s()(),t.j41(115,"div",46),t.nrm(116,"input",63),t.j41(117,"label",64),t.EFF(118),t.nI1(119,"translate"),t.k0s()(),t.j41(120,"div",46),t.nrm(121,"input",65),t.j41(122,"label",66),t.EFF(123),t.nI1(124,"translate"),t.k0s()(),t.j41(125,"div",46),t.nrm(126,"input",67),t.j41(127,"label",68),t.EFF(128),t.nI1(129,"translate"),t.k0s()(),t.j41(130,"div",46),t.nrm(131,"input",69),t.j41(132,"label",70),t.EFF(133),t.nI1(134,"translate"),t.k0s()()(),t.j41(135,"div",71)(136,"select",72)(137,"option",73),t.EFF(138,"S"),t.k0s(),t.j41(139,"option",74),t.EFF(140,"M"),t.k0s(),t.j41(141,"option",75),t.EFF(142,"L"),t.k0s()(),t.j41(143,"select",76)(144,"option",77),t.EFF(145,"Mono"),t.k0s(),t.j41(146,"option",78),t.EFF(147,"Sans"),t.k0s(),t.j41(148,"option",79),t.EFF(149,"Serif"),t.k0s()(),t.j41(150,"label",80),t.nrm(151,"input",81),t.j41(152,"span"),t.EFF(153,"B"),t.k0s()()(),t.j41(154,"div",33)(155,"label"),t.EFF(156,"Font Size"),t.k0s(),t.j41(157,"select",82)(158,"option",73),t.EFF(159,"Small"),t.k0s(),t.j41(160,"option",74),t.EFF(161,"Medium"),t.k0s(),t.j41(162,"option",75),t.EFF(163,"Large"),t.k0s()()()(),t.j41(164,"div",32)(165,"h3"),t.EFF(166,"Footer"),t.k0s(),t.j41(167,"div",56)(168,"div",46),t.nrm(169,"input",83),t.j41(170,"label",84),t.EFF(171),t.nI1(172,"translate"),t.k0s()(),t.j41(173,"div",46),t.nrm(174,"input",85),t.j41(175,"label",86),t.EFF(176),t.nI1(177,"translate"),t.k0s()(),t.j41(178,"div",46),t.nrm(179,"input",87),t.j41(180,"label",88),t.EFF(181),t.nI1(182,"translate"),t.k0s()(),t.j41(183,"div",46),t.nrm(184,"input",89),t.j41(185,"label",90),t.EFF(186),t.nI1(187,"translate"),t.k0s()(),t.j41(188,"div",46),t.nrm(189,"input",91),t.j41(190,"label",92),t.EFF(191),t.nI1(192,"translate"),t.k0s()()(),t.j41(193,"div",33)(194,"label"),t.EFF(195,"Custom Message"),t.k0s(),t.nrm(196,"input",93),t.nI1(197,"translate"),t.k0s(),t.j41(198,"div",71)(199,"div",94)(200,"span",95),t.EFF(201,"Totals:"),t.k0s(),t.j41(202,"select",96)(203,"option",73),t.EFF(204,"S"),t.k0s(),t.j41(205,"option",74),t.EFF(206,"M"),t.k0s(),t.j41(207,"option",75),t.EFF(208,"L"),t.k0s()(),t.j41(209,"select",97)(210,"option",77),t.EFF(211,"Mono"),t.k0s(),t.j41(212,"option",78),t.EFF(213,"Sans"),t.k0s(),t.j41(214,"option",79),t.EFF(215,"Serif"),t.k0s()(),t.j41(216,"label",80),t.nrm(217,"input",98),t.j41(218,"span"),t.EFF(219,"B"),t.k0s()()(),t.j41(220,"div",94)(221,"span",95),t.EFF(222,"Footer:"),t.k0s(),t.j41(223,"select",99)(224,"option",73),t.EFF(225,"S"),t.k0s(),t.j41(226,"option",74),t.EFF(227,"M"),t.k0s(),t.j41(228,"option",75),t.EFF(229,"L"),t.k0s()(),t.j41(230,"select",100)(231,"option",77),t.EFF(232,"Mono"),t.k0s(),t.j41(233,"option",78),t.EFF(234,"Sans"),t.k0s(),t.j41(235,"option",79),t.EFF(236,"Serif"),t.k0s()(),t.j41(237,"label",80),t.nrm(238,"input",101),t.j41(239,"span"),t.EFF(240,"B"),t.k0s()()()(),t.j41(241,"div",33)(242,"label"),t.EFF(243),t.nI1(244,"translate"),t.k0s(),t.j41(245,"select",102)(246,"option",103),t.EFF(247),t.nI1(248,"translate"),t.k0s(),t.j41(249,"option",104),t.EFF(250),t.nI1(251,"translate"),t.k0s(),t.j41(252,"option",105),t.EFF(253),t.nI1(254,"translate"),t.k0s()()()(),t.j41(255,"div",106)(256,"button",107),t.bIt("click",function(){r.eBV(e);const s=t.XpG();return r.Njj(s.cancelEdit())}),t.EFF(257),t.nI1(258,"translate"),t.k0s(),t.DNE(259,B,3,3,"button",108),t.j41(260,"button",109),t.bIt("click",function(){r.eBV(e);const s=t.XpG();return r.Njj(s.saveTemplate())}),t.EFF(261),t.nI1(262,"translate"),t.nI1(263,"translate"),t.k0s()()()(),t.j41(264,"div",110)(265,"h3"),t.EFF(266),t.nI1(267,"translate"),t.k0s(),t.j41(268,"div",111),t.nrm(269,"div",19),t.k0s()()()()}if(2&n){let e;const o=t.XpG();t.R7$(2),t.SpI(" ",o.selectedTemplate()?t.bMT(3,60,"TEMPLATES.EDIT_HEADER"):t.bMT(4,62,"TEMPLATES.CREATE_HEADER")," "),t.R7$(5),t.Y8G("formGroup",o.templateForm),t.R7$(3),t.JRh(t.bMT(11,64,"TEMPLATES.SECTION_BASIC")),t.R7$(4),t.JRh(t.bMT(15,66,"TEMPLATES.FORM.NAME_LABEL")),t.R7$(2),t.Y8G("placeholder",t.mNQ(t.bMT(17,68,"TEMPLATES.FORM.NAME_PLACEHOLDER"))),t.R7$(2),t.Y8G("ngIf",null==(e=o.templateForm.get("name"))?null:e.touched),t.R7$(3),t.JRh(t.bMT(22,70,"TEMPLATES.FORM.DESCRIPTION_LABEL")),t.R7$(2),t.Y8G("placeholder",t.mNQ(t.bMT(24,72,"TEMPLATES.FORM.DESCRIPTION_PLACEHOLDER"))),t.R7$(5),t.JRh(t.bMT(29,74,"TEMPLATES.FORM.TEMPLATE_TYPE_LABEL")),t.R7$(4),t.SpI(" ",t.bMT(33,76,"TEMPLATES.OPTIONS.RECEIPT")," "),t.R7$(3),t.SpI(" ",t.bMT(36,78,"TEMPLATES.OPTIONS.INVOICE")," "),t.R7$(3),t.SpI(" ",t.bMT(39,80,"TEMPLATES.OPTIONS.LABEL")," "),t.R7$(4),t.JRh(t.bMT(43,82,"TEMPLATES.FORM.PAPER_SIZE_LABEL")),t.R7$(4),t.SpI(" ",t.bMT(47,84,"TEMPLATES.OPTIONS.PAPER_58")," "),t.R7$(3),t.SpI(" ",t.bMT(50,86,"TEMPLATES.OPTIONS.PAPER_80")," "),t.R7$(3),t.SpI(" ",t.bMT(53,88,"TEMPLATES.OPTIONS.PAPER_A4")," "),t.R7$(4),t.JRh(t.bMT(57,90,"TEMPLATES.SECTION_HEADER")),t.R7$(5),t.JRh(t.bMT(62,92,"TEMPLATES.FORM.SHOW_LOGO")),t.R7$(6),t.Y8G("placeholder",t.mNQ(t.bMT(68,94,"TEMPLATES.FORM.STORE_NAME_PLACEHOLDER"))),t.R7$(2),t.Y8G("checked",o.isFieldVisible("showStoreName")),t.R7$(),t.Y8G("ngIf",o.isFieldVisible("showStoreName")),t.R7$(5),t.Y8G("placeholder",t.mNQ(t.bMT(76,96,"TEMPLATES.FORM.STORE_ADDRESS_PLACEHOLDER"))),t.R7$(2),t.Y8G("checked",o.isFieldVisible("showStoreAddress")),t.R7$(),t.Y8G("ngIf",o.isFieldVisible("showStoreAddress")),t.R7$(6),t.Y8G("placeholder",t.mNQ(t.bMT(85,98,"TEMPLATES.FORM.STORE_PHONE_PLACEHOLDER"))),t.R7$(2),t.Y8G("checked",o.isFieldVisible("showStorePhone")),t.R7$(),t.Y8G("ngIf",o.isFieldVisible("showStorePhone")),t.R7$(5),t.Y8G("placeholder",t.mNQ(t.bMT(93,100,"TEMPLATES.FORM.STORE_EMAIL_PLACEHOLDER"))),t.R7$(2),t.Y8G("checked",o.isFieldVisible("showStoreEmail")),t.R7$(),t.Y8G("ngIf",o.isFieldVisible("showStoreEmail")),t.R7$(8),t.JRh(t.bMT(104,102,"TEMPLATES.FORM.SHOW_PRODUCT_CODE")),t.R7$(5),t.JRh(t.bMT(109,104,"TEMPLATES.FORM.SHOW_BARCODE")),t.R7$(5),t.JRh(t.bMT(114,106,"TEMPLATES.FORM.SHOW_QUANTITY")),t.R7$(5),t.JRh(t.bMT(119,108,"TEMPLATES.FORM.SHOW_UNIT_PRICE")),t.R7$(5),t.JRh(t.bMT(124,110,"TEMPLATES.FORM.SHOW_DISCOUNT")),t.R7$(5),t.JRh(t.bMT(129,112,"TEMPLATES.FORM.SHOW_TAX")),t.R7$(5),t.JRh(t.bMT(134,114,"TEMPLATES.FORM.SHOW_SUBTOTAL")),t.R7$(38),t.JRh(t.bMT(172,116,"TEMPLATES.FORM.SHOW_TOTALS")),t.R7$(5),t.JRh(t.bMT(177,118,"TEMPLATES.FORM.SHOW_PAYMENT_METHOD")),t.R7$(5),t.JRh(t.bMT(182,120,"TEMPLATES.FORM.SHOW_CASHIER")),t.R7$(5),t.JRh(t.bMT(187,122,"TEMPLATES.FORM.SHOW_DATETIME")),t.R7$(5),t.JRh(t.bMT(192,124,"TEMPLATES.FORM.SHOW_THANKYOU")),t.R7$(5),t.Y8G("placeholder",t.mNQ(t.bMT(197,126,"TEMPLATES.FORM.CUSTOM_MESSAGE_PLACEHOLDER"))),t.R7$(47),t.JRh(t.bMT(244,128,"TEMPLATES.FORM.TEXT_ALIGNMENT")),t.R7$(4),t.SpI(" ",t.bMT(248,130,"TEMPLATES.OPTIONS.ALIGN_LEFT")," "),t.R7$(3),t.SpI(" ",t.bMT(251,132,"TEMPLATES.OPTIONS.ALIGN_CENTER")," "),t.R7$(3),t.SpI(" ",t.bMT(254,134,"TEMPLATES.OPTIONS.ALIGN_RIGHT")," "),t.R7$(4),t.SpI(" ",t.bMT(258,136,"GLOBAL.CANCEL")," "),t.R7$(2),t.Y8G("ngIf",o.selectedTemplate()&&o.isEditing()),t.R7$(),t.Y8G("disabled",!o.templateForm.valid),t.R7$(),t.SpI(" ",o.selectedTemplate()?t.bMT(262,138,"TEMPLATES.ACTIONS.UPDATE"):t.bMT(263,140,"TEMPLATES.ACTIONS.CREATE")," "),t.R7$(5),t.JRh(t.bMT(267,142,"TEMPLATES.PREVIEW_TITLE")),t.R7$(3),t.Y8G("innerHTML",o.getSafePreview(),t.npT)}}let G=(()=>{class n{constructor(e,o,s,a,f){this.printTemplateService=e,this.fb=o,this.sanitizer=s,this.translationService=a,this.toastService=f,this.templates=(0,r.vPA)([]),this.selectedTemplate=(0,r.vPA)(null),this.isLoading=(0,r.vPA)(!1),this.isEditing=(0,r.vPA)(!1),this.showForm=(0,r.vPA)(!1),this.templateForm=this.fb.group({name:["",[c.k0.required,c.k0.minLength(3)]],description:[""],templateType:["receipt"],paperSize:["58mm"],storeName:[""],storeAddress:[""],storePhone:[""],storeEmail:[""],customMessage:["Thank you!"],showLogo:[!1],showStoreName:[!0],showStoreAddress:[!0],showStorePhone:[!0],showStoreEmail:[!0],storeNameSize:["medium"],storeNameFont:["monospace"],storeNameBold:[!0],storeAddressSize:["small"],storeAddressFont:["monospace"],storeAddressBold:[!1],storePhoneSize:["small"],storePhoneFont:["monospace"],storePhoneBold:[!1],storeEmailSize:["small"],storeEmailFont:["monospace"],storeEmailBold:[!1],showProductCode:[!1],showBarcode:[!1],showQuantity:[!0],showUnitPrice:[!0],showDiscount:[!1],showTax:[!1],showSubtotal:[!0],productSize:["small"],productFont:["monospace"],productBold:[!1],showTotals:[!0],showPaymentMethod:[!0],showCashier:[!0],showDateTime:[!0],showThankYou:[!0],totalSize:["medium"],totalFont:["monospace"],totalBold:[!0],footerSize:["small"],footerFont:["monospace"],footerBold:[!1],fontSize:["small"],textAlign:["center"],isDefault:[!1]})}ngOnInit(){this.loadTemplates(),this.templateForm.valueChanges.subscribe(()=>{})}loadTemplates(){this.isLoading.set(!0),this.printTemplateService.getTemplates().subscribe({next:e=>{this.templates.set(e),this.isLoading.set(!1)},error:e=>{console.error("Error loading templates:",e),this.isLoading.set(!1)}})}selectTemplate(e){this.selectedTemplate.set(e),this.populateForm(e),this.isEditing.set(!1),this.showForm.set(!0)}populateForm(e){this.templateForm.patchValue({name:e.name,description:e.description,templateType:e.templateType,paperSize:e.paperSize,storeName:e.header?.storeName,storeAddress:e.header?.storeAddress,storePhone:e.header?.storePhone,storeEmail:e.header?.storeEmail,customMessage:e.footer?.customMessage,showLogo:e.header?.showLogo,showStoreName:e.header?.showStoreName??!0,showStoreAddress:e.header?.showStoreAddress??!0,showStorePhone:e.header?.showStorePhone??!0,showStoreEmail:e.header?.showStoreEmail??!0,storeNameSize:e.header?.storeNameSize||"medium",storeNameFont:e.header?.storeNameFont||"monospace",storeNameBold:e.header?.storeNameBold??!0,storeAddressSize:e.header?.storeAddressSize||"small",storeAddressFont:e.header?.storeAddressFont||"monospace",storeAddressBold:e.header?.storeAddressBold??!1,storePhoneSize:e.header?.storePhoneSize||"small",storePhoneFont:e.header?.storePhoneFont||"monospace",storePhoneBold:e.header?.storePhoneBold??!1,storeEmailSize:e.header?.storeEmailSize||"small",storeEmailFont:e.header?.storeEmailFont||"monospace",storeEmailBold:e.header?.storeEmailBold??!1,showProductCode:e.body?.showProductCode,showBarcode:e.body?.showBarcode,showQuantity:e.body?.showQuantity,showUnitPrice:e.body?.showUnitPrice,showDiscount:e.body?.showDiscount,showTax:e.body?.showTax,showSubtotal:e.body?.showSubtotal,productSize:e.body?.productSize||"small",productFont:e.body?.productFont||"monospace",productBold:e.body?.productBold??!1,showTotals:e.footer?.showTotals,showPaymentMethod:e.footer?.showPaymentMethod,showCashier:e.footer?.showCashier,showDateTime:e.footer?.showDateTime,showThankYou:e.footer?.showThankYou,totalSize:e.footer?.totalSize||"medium",totalFont:e.footer?.totalFont||"monospace",totalBold:e.footer?.totalBold??!0,footerSize:e.footer?.footerSize||"small",footerFont:e.footer?.footerFont||"monospace",footerBold:e.footer?.footerBold??!1,fontSize:e.body?.fontSize,textAlign:e.styles?.textAlign,isDefault:e.isDefault||!1})}createNew(){this.selectedTemplate.set(null),this.templateForm.reset({templateType:"receipt",paperSize:"58mm",customMessage:"Thank you!",fontSize:"small",textAlign:"center",showQuantity:!0,showUnitPrice:!0,showSubtotal:!0,showTotals:!0,showPaymentMethod:!0,showCashier:!0,showDateTime:!0,showThankYou:!0}),this.isEditing.set(!1),this.showForm.set(!0)}editTemplate(){this.isEditing.set(!0)}cancelEdit(){this.showForm.set(!1),this.isEditing.set(!1),this.templateForm.reset()}saveTemplate(){if(!this.templateForm.valid)return;const e=this.templateForm.value,o={name:e.name,description:e.description,templateType:e.templateType,paperSize:e.paperSize,header:{showLogo:e.showLogo,storeName:e.storeName,showStoreName:e.showStoreName,storeNameSize:e.storeNameSize,storeNameFont:e.storeNameFont,storeNameBold:e.storeNameBold,storeAddress:e.storeAddress,showStoreAddress:e.showStoreAddress,storeAddressSize:e.storeAddressSize,storeAddressFont:e.storeAddressFont,storeAddressBold:e.storeAddressBold,storePhone:e.storePhone,showStorePhone:e.showStorePhone,storePhoneSize:e.storePhoneSize,storePhoneFont:e.storePhoneFont,storePhoneBold:e.storePhoneBold,storeEmail:e.storeEmail,showStoreEmail:e.showStoreEmail,storeEmailSize:e.storeEmailSize,storeEmailFont:e.storeEmailFont,storeEmailBold:e.storeEmailBold},body:{showProductCode:e.showProductCode,showBarcode:e.showBarcode,showQuantity:e.showQuantity,showUnitPrice:e.showUnitPrice,showDiscount:e.showDiscount,showTax:e.showTax,showSubtotal:e.showSubtotal,productSize:e.productSize,productFont:e.productFont,productBold:e.productBold,fontSize:e.fontSize},footer:{showTotals:e.showTotals,showPaymentMethod:e.showPaymentMethod,showCashier:e.showCashier,showDateTime:e.showDateTime,customMessage:e.customMessage,showThankYou:e.showThankYou,totalSize:e.totalSize,totalFont:e.totalFont,totalBold:e.totalBold,footerSize:e.footerSize,footerFont:e.footerFont,footerBold:e.footerBold},styles:{textAlign:e.textAlign},isDefault:e.isDefault};this.selectedTemplate()?this.printTemplateService.updateTemplate(this.selectedTemplate()?._id||"",o).subscribe({next:()=>{this.toastService.show(this.translationService.translate("TEMPLATES.UPDATED"),"success"),this.loadTemplates(),this.cancelEdit()},error:s=>{console.error("Error updating template:",s),this.toastService.show(this.translationService.translate("TEMPLATES.UPDATE_FAILED"),"error")}}):this.printTemplateService.createTemplate(o).subscribe({next:()=>{this.toastService.show(this.translationService.translate("TEMPLATES.CREATED"),"success"),this.loadTemplates(),this.cancelEdit()},error:s=>{console.error("Error creating template:",s),this.toastService.show(this.translationService.translate("TEMPLATES.CREATE_FAILED"),"error")}})}setAsDefault(e){e?._id&&(this.isLoading.set(!0),this.printTemplateService.updateTemplate(e._id,{isDefault:!0}).subscribe({next:o=>{this.toastService.show(this.translationService.translate("TEMPLATES.DEFAULT_SET",{name:o.name}),"success"),this.loadTemplates(),this.isLoading.set(!1)},error:o=>{console.error("Error setting default template:",o),this.toastService.show(this.translationService.translate("TEMPLATES.DEFAULT_SET_FAILED"),"error"),this.isLoading.set(!1)}}))}deleteTemplate(){!this.selectedTemplate()||!confirm("Are you sure?")||this.printTemplateService.deleteTemplate(this.selectedTemplate()?._id||"").subscribe({next:()=>{this.toastService.show(this.translationService.translate("TEMPLATES.DELETED"),"success"),this.loadTemplates(),this.cancelEdit()},error:e=>{console.error("Error deleting template:",e),this.toastService.show(this.translationService.translate("TEMPLATES.DELETE_FAILED"),"error")}})}getFieldError(e){const o=this.templateForm.get(e);return o?.hasError("required")?`${e} is required`:o?.hasError("minlength")?`${e} must be at least 3 characters`:""}getSafePreview(){return this.sanitizer.bypassSecurityTrustHtml(this.generatePreview())}generatePreview(){const e=this.templateForm.value,f=(d,T,O)=>`font-size: ${(d=>"small"===d?"12px":"large"===d?"16px":"14px")(d)}; font-family: ${T}; font-weight: ${O?"bold":"normal"};`;let l=`<div style="font-family: monospace; width: ${"58mm"===e.paperSize?"200px":"80mm"===e.paperSize?"280px":"800px"}; margin: 0 auto; padding: 8px; box-sizing: border-box; border: 1px solid #ddd; font-size: ${"small"===e.fontSize?"14px":"medium"===e.fontSize?"16px":"18px"}; text-align: ${e.textAlign}; line-height: 1.2;">`;if(e.showLogo&&(l+='<div style="font-size: 18px; margin-bottom: 6px;">\u{1f3ea}</div>'),e.showStoreName&&e.storeName){const d=f(e.storeNameSize,e.storeNameFont,e.storeNameBold);l+=`<div style="${d} margin-bottom: 3px;">${e.storeName}</div>`}if(e.showStoreAddress&&e.storeAddress){const d=f(e.storeAddressSize,e.storeAddressFont,e.storeAddressBold);l+=`<div style="${d} margin-bottom: 3px;">${e.storeAddress}</div>`}if(e.showStorePhone&&e.storePhone){const d=f(e.storePhoneSize,e.storePhoneFont,e.storePhoneBold);l+=`<div style="${d} margin-bottom: 3px;">Tel: ${e.storePhone}</div>`}if(e.showStoreEmail&&e.storeEmail){const d=f(e.storeEmailSize,e.storeEmailFont,e.storeEmailBold);l+=`<div style="${d} margin-bottom: 8px;">${e.storeEmail}</div>`}l+='<div style="border-bottom: 1px dashed #999; margin: 8px 0;"></div>';const C=f(e.productSize,e.productFont,e.productBold);l+=`<div style="display: grid; grid-template-columns: 1fr 60px; gap: 5px; margin-bottom: 5px; font-weight: bold; ${C}">`,l+="<span>Item</span>",(e.showQuantity||e.showUnitPrice)&&(l+='<span style="text-align: right;">Qty Price</span>'),l+="</div>",[{name:"Product A",qty:2,price:10},{name:"Product B",qty:1,price:25.5}].forEach(d=>{let T=`${d.name}`;if(e.showQuantity||e.showUnitPrice){const O=`${d.qty} $${d.price.toFixed(2)} $${(d.qty*d.price).toFixed(2)}`;l+=`<div style="display: grid; grid-template-columns: 1fr 60px; gap: 5px; ${C}"><span>${T}</span><span style="text-align: right;">${O}</span></div>`}else l+=`<div style="${C}">${T}</div>`}),l+='<div style="border-bottom: 1px dashed #999; margin: 8px 0;"></div>';const F=f(e.totalSize,e.totalFont,e.totalBold);e.showSubtotal&&(l+=`<div style="display: grid; grid-template-columns: 1fr 60px; gap: 10px; margin-bottom: 2px; ${F}"><span>Subtotal:</span><span style="text-align: right;">$46.50</span></div>`),e.showTax&&(l+=`<div style="display: grid; grid-template-columns: 1fr 60px; gap: 10px; margin-bottom: 2px; ${F}"><span>Tax:</span><span style="text-align: right;">$3.50</span></div>`),e.showTotals&&(l+=`<div style="display: grid; grid-template-columns: 1fr 60px; gap: 10px; margin-bottom: 8px; ${F}"><span>TOTAL:</span><span style="text-align: right;">$50.00</span></div>`);const P=f(e.footerSize,e.footerFont,e.footerBold);if(e.showPaymentMethod&&(l+=`<div style="${P} margin-bottom: 3px;">Payment: Cash</div>`),e.showCashier&&(l+=`<div style="${P} margin-bottom: 3px;">Cashier: John Doe</div>`),e.showDateTime){const d=(new Date).toLocaleString();l+=`<div style="${P} margin-bottom: 8px;">${d}</div>`}return e.showThankYou&&e.customMessage&&(l+=`<div style="${P} margin-top: 8px; font-weight: bold;">${e.customMessage}</div>`),l+="</div>",l}toggleFieldVisibility(e){const o=this.templateForm.get(e)?.value;this.templateForm.patchValue({[e]:!o})}isFieldVisible(e){return this.templateForm.get(e)?.value??!1}generateTemplatePreview(e){let a=`<div style="font-family: monospace; width: ${"58mm"===e.paperSize?"150px":"80mm"===e.paperSize?"210px":"600px"}; margin: 0 auto; padding: 11px; border: 1px solid #ddd; font-size: ${"small"===e.body?.fontSize?"14px":"medium"===e.body?.fontSize?"16px":"18px"}; text-align: ${e.styles?.textAlign||"center"}; line-height: 1.3; background: white;">`;return e.header?.showLogo&&(a+='<div style="font-size: 14px; margin-bottom: 3px;">\u{1f3ea}</div>'),e.header?.showStoreName&&e.header?.storeName&&(a+=`<div style="font-weight: bold; margin-bottom: 2px; font-size: 12px;">${e.header.storeName}</div>`),e.header?.showStoreAddress&&e.header?.storeAddress&&(a+=`<div style="font-size: 10px; margin-bottom: 2px;">${e.header.storeAddress}</div>`),e.header?.showStorePhone&&e.header?.storePhone&&(a+=`<div style="font-size: 10px; margin-bottom: 2px;">Tel: ${e.header.storePhone}</div>`),e.header?.showStoreEmail&&e.header?.storeEmail&&(a+=`<div style="font-size: 10px; margin-bottom: 5px;">${e.header.storeEmail}</div>`),a+='<div style="border-bottom: 1px dashed #999; margin: 5px 0;"></div>',a+='<div style="font-size: 9px; margin-bottom: 3px;">Product A</div>',(e.body?.showQuantity||e.body?.showUnitPrice)&&(a+='<div style="font-size: 9px; text-align: right;">2 $10.00 $20.00</div>'),a+='<div style="border-bottom: 1px dashed #999; margin: 5px 0;"></div>',e.footer?.showTotals&&(a+='<div style="display: grid; grid-template-columns: 1fr 50px; gap: 5px; font-size: 10px; font-weight: bold;"><span>TOTAL:</span><span style="text-align: right;">$20.00</span></div>'),e.footer?.showThankYou&&e.footer?.customMessage&&(a+=`<div style="margin-top: 5px; font-size: 10px; font-weight: bold;">${e.footer.customMessage}</div>`),a+="</div>",a}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(m.h),t.rXU(c.ok),t.rXU(u.up),t.rXU(S.L),t.rXU(v.f))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-templates"]],decls:10,vars:11,consts:[["icon","fa-receipt",3,"title","description"],[1,"btn-primary",3,"click"],[1,"templates-container"],[1,"content"],["class","templates-list",4,"ngIf"],["class","template-form",4,"ngIf"],[1,"templates-list"],["class","loading",4,"ngIf"],["class","templates-grid",4,"ngIf"],["class","no-templates",4,"ngIf"],[1,"loading"],[1,"templates-grid"],["class","template-card",4,"ngFor","ngForOf"],[1,"template-card"],[1,"card-header"],[1,"template-info"],[1,"badge"],["class","badge default-badge",4,"ngIf"],[1,"card-preview"],[3,"innerHTML"],[1,"card-actions"],[1,"btn-secondary",3,"click"],["class","btn-tertiary",3,"click",4,"ngIf"],["class","default-note",4,"ngIf"],[1,"badge","default-badge"],[1,"btn-tertiary",3,"click"],[1,"default-note"],[1,"no-templates"],[1,"template-form"],[1,"form-with-preview"],[1,"form-section-wrapper"],[3,"formGroup"],[1,"form-section"],[1,"form-group"],["type","text","formControlName","name",1,"form-control",3,"placeholder"],["class","error",4,"ngIf"],["formControlName","description","rows","2",1,"form-control",3,"placeholder"],[1,"form-row"],["formControlName","templateType",1,"form-control"],["value","receipt"],["value","invoice"],["value","label"],["formControlName","paperSize",1,"form-control"],["value","58mm"],["value","80mm"],["value","A4"],[1,"form-group","checkbox"],["type","checkbox","formControlName","showLogo","id","showLogo"],["for","showLogo"],[2,"display","flex","gap","10px","align-items","center"],["type","text","formControlName","storeName",1,"form-control",3,"placeholder"],["size","small",3,"change","checked"],["class","style-options-compact",4,"ngIf"],["type","text","formControlName","storeAddress",1,"form-control",3,"placeholder"],["type","text","formControlName","storePhone",1,"form-control",3,"placeholder"],["type","email","formControlName","storeEmail",1,"form-control",3,"placeholder"],[1,"checkbox-group"],["type","checkbox","formControlName","showProductCode","id","showProductCode"],["for","showProductCode"],["type","checkbox","formControlName","showBarcode","id","showBarcode"],["for","showBarcode"],["type","checkbox","formControlName","showQuantity","id","showQuantity"],["for","showQuantity"],["type","checkbox","formControlName","showUnitPrice","id","showUnitPrice"],["for","showUnitPrice"],["type","checkbox","formControlName","showDiscount","id","showDiscount"],["for","showDiscount"],["type","checkbox","formControlName","showTax","id","showTax"],["for","showTax"],["type","checkbox","formControlName","showSubtotal","id","showSubtotal"],["for","showSubtotal"],[1,"style-options-compact"],["formControlName","productSize","title","Item Size",1,"style-select"],["value","small"],["value","medium"],["value","large"],["formControlName","productFont","title","Item Font",1,"style-select"],["value","monospace"],["value","sans-serif"],["value","serif"],[1,"style-checkbox"],["type","checkbox","formControlName","productBold"],["formControlName","fontSize",1,"form-control"],["type","checkbox","formControlName","showTotals","id","showTotals"],["for","showTotals"],["type","checkbox","formControlName","showPaymentMethod","id","showPaymentMethod"],["for","showPaymentMethod"],["type","checkbox","formControlName","showCashier","id","showCashier"],["for","showCashier"],["type","checkbox","formControlName","showDateTime","id","showDateTime"],["for","showDateTime"],["type","checkbox","formControlName","showThankYou","id","showThankYou"],["for","showThankYou"],["type","text","formControlName","customMessage",1,"form-control",3,"placeholder"],[1,"style-group"],[1,"style-label"],["formControlName","totalSize","title","Totals Size",1,"style-select"],["formControlName","totalFont","title","Totals Font",1,"style-select"],["type","checkbox","formControlName","totalBold"],["formControlName","footerSize","title","Footer Size",1,"style-select"],["formControlName","footerFont","title","Footer Font",1,"style-select"],["type","checkbox","formControlName","footerBold"],["formControlName","textAlign",1,"form-control"],["value","left"],["value","center"],["value","right"],[1,"form-actions"],["type","button",1,"btn-secondary",3,"click"],["type","button","class","btn-danger",3,"click",4,"ngIf"],["type","button",1,"btn-primary",3,"click","disabled"],[1,"preview-section"],[1,"preview-container"],[1,"error"],["formControlName","storeNameSize","title","Text Size",1,"style-select"],["formControlName","storeNameFont","title","Font Family",1,"style-select"],["type","checkbox","formControlName","storeNameBold"],["formControlName","storeAddressSize","title","Text Size",1,"style-select"],["formControlName","storeAddressFont","title","Font Family",1,"style-select"],["type","checkbox","formControlName","storeAddressBold"],["formControlName","storePhoneSize","title","Text Size",1,"style-select"],["formControlName","storePhoneFont","title","Font Family",1,"style-select"],["type","checkbox","formControlName","storePhoneBold"],["formControlName","storeEmailSize","title","Text Size",1,"style-select"],["formControlName","storeEmailFont","title","Font Family",1,"style-select"],["type","checkbox","formControlName","storeEmailBold"],["type","button",1,"btn-danger",3,"click"]],template:function(o,s){1&o&&(t.j41(0,"app-page-title",0),t.nI1(1,"translate"),t.nI1(2,"translate"),t.j41(3,"button",1),t.bIt("click",function(){return s.createNew()}),t.EFF(4),t.nI1(5,"translate"),t.k0s()(),t.j41(6,"div",2)(7,"div",3),t.DNE(8,j,4,3,"div",4)(9,U,270,144,"div",5),t.k0s()()),2&o&&(t.Y8G("title",t.bMT(1,5,"TEMPLATES.TITLE"))("description",t.bMT(2,7,"TEMPLATES.DESCRIPTION")),t.R7$(4),t.SpI(" + ",t.bMT(5,9,"TEMPLATES.CREATE_NEW")," "),t.R7$(4),t.Y8G("ngIf",!s.showForm()),t.R7$(),t.Y8G("ngIf",s.showForm()))},dependencies:[_.MD,_.Sq,_.bT,c.YN,c.qT,c.xH,c.y7,c.me,c.Zm,c.wz,c.BC,c.cb,c.X1,c.j4,c.JD,h.j,g.C,M.D],styles:['@import"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap";.dark-theme[_ngcontent-%COMP%]{--neumorphic-bg: #1a1d24;--neumorphic-surface: #222831;--text-primary: #e5e7eb;--text-secondary: #9ca3af;--text-muted: #6b7280;--bg-primary: #1a1d24;--bg-secondary: #222831;--bg-tertiary: #2d3139;--bg-hover: #3a3f4b;--bg-active: #4a5161;--border-color: #3a3f4b;--card-bg: #222831;--input-bg: #2d3139;--sidebar-text: rgba(255, 255, 255, .7);--sidebar-text-active: #ffffff;--shadow-neumorphic: 6px 6px 12px rgba(0, 0, 0, .4), -6px -6px 12px rgba(255, 255, 255, .02);--shadow-neumorphic-sm: 3px 3px 6px rgba(0, 0, 0, .3), -3px -3px 6px rgba(255, 255, 255, .02);--shadow-neumorphic-lg: 9px 9px 16px rgba(0, 0, 0, .5), -9px -9px 16px rgba(255, 255, 255, .03);--shadow-neumorphic-inset: inset 3px 3px 6px rgba(0, 0, 0, .3), inset -3px -3px 6px rgba(255, 255, 255, .02);background-color:var(--bg-primary);color:var(--text-primary)}.templates-container[_ngcontent-%COMP%]{padding:1.5rem;background:#5a5959;min-height:100%}.templates-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:2rem}.templates-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#262626;margin:0 0 .5rem}.templates-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#595959;margin:0}.templates-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:2rem;box-shadow:0 2px 8px #0000001a}.templates-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:#2d1674;color:#fff;padding:.75rem 1.5rem;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s;margin-bottom:1.5rem}.templates-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background:#1e0f52;transform:translateY(-2px);box-shadow:0 4px 12px #ff8c424d}.templates-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:active{transform:translateY(0)}.templates-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled{background:#d1d5db;cursor:not-allowed;transform:none}.templates-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#d1d5db;color:#262626;padding:.5rem 1rem;border:none;border-radius:6px;font-size:.9rem;font-weight:600;cursor:pointer;transition:all .2s}.templates-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:#9ca3af}.templates-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:active{background:#6b7280}.templates-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{background:#f56565;color:#fff;padding:.5rem 1rem;border:none;border-radius:6px;font-size:.9rem;font-weight:600;cursor:pointer;transition:all .2s}.templates-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]:hover{background:#e53e3e}.templates-container[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#595959}.templates-container[_ngcontent-%COMP%]   .templates-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1.5rem;margin:1.5rem 0}.templates-container[_ngcontent-%COMP%]   .templates-grid[_ngcontent-%COMP%]   .template-card[_ngcontent-%COMP%]{border:1px solid #d1d5db;border-radius:8px;padding:1.5rem;transition:all .2s;display:flex;flex-direction:column}.templates-container[_ngcontent-%COMP%]   .templates-grid[_ngcontent-%COMP%]   .template-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #0000001a;transform:translateY(-2px)}.templates-container[_ngcontent-%COMP%]   .templates-grid[_ngcontent-%COMP%]   .template-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{margin-bottom:1rem}.templates-container[_ngcontent-%COMP%]   .templates-grid[_ngcontent-%COMP%]   .template-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#262626;margin:0 0 .5rem}.templates-container[_ngcontent-%COMP%]   .templates-grid[_ngcontent-%COMP%]   .template-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#595959;margin:0 0 1rem}.templates-container[_ngcontent-%COMP%]   .templates-grid[_ngcontent-%COMP%]   .template-card[_ngcontent-%COMP%]   .template-info[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:0}.templates-container[_ngcontent-%COMP%]   .templates-grid[_ngcontent-%COMP%]   .template-card[_ngcontent-%COMP%]   .template-info[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;background:#ffffffd9;color:#595959;padding:.25rem .75rem;border-radius:12px;font-size:.75rem;font-weight:500}.templates-container[_ngcontent-%COMP%]   .templates-grid[_ngcontent-%COMP%]   .template-card[_ngcontent-%COMP%]   .template-info[_ngcontent-%COMP%]   .default-badge[_ngcontent-%COMP%]{background:#2d1674;color:#fff}.templates-container[_ngcontent-%COMP%]   .templates-grid[_ngcontent-%COMP%]   .template-card[_ngcontent-%COMP%]   .card-preview[_ngcontent-%COMP%]{flex:1;margin:1rem 0;padding:.75rem;background:#5a5959;border:1px solid #d1d5db;border-radius:6px;overflow-x:auto;max-height:180px;overflow-y:auto}.templates-container[_ngcontent-%COMP%]   .templates-grid[_ngcontent-%COMP%]   .template-card[_ngcontent-%COMP%]   .card-preview[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:0}.templates-container[_ngcontent-%COMP%]   .templates-grid[_ngcontent-%COMP%]   .template-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center;margin-top:auto}.templates-container[_ngcontent-%COMP%]   .templates-grid[_ngcontent-%COMP%]   .template-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .btn-tertiary[_ngcontent-%COMP%]{background:#5a5959;color:#262626;padding:.5rem .75rem;border:1px solid #d1d5db;border-radius:6px;cursor:pointer;font-weight:600}.templates-container[_ngcontent-%COMP%]   .templates-grid[_ngcontent-%COMP%]   .template-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .default-note[_ngcontent-%COMP%]{font-size:.85rem;color:#2d1674;font-weight:700}.templates-container[_ngcontent-%COMP%]   .no-templates[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#595959}.templates-container[_ngcontent-%COMP%]   .template-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#262626;margin:0 0 1.5rem}.templates-container[_ngcontent-%COMP%]   .template-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{max-width:900px}.templates-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{margin-bottom:2rem;padding-bottom:2rem;border-bottom:1px solid #d1d5db}.templates-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#262626;margin:0 0 1.5rem}.templates-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]:last-of-type{border-bottom:none}.templates-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.templates-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#262626;margin-bottom:.5rem}.templates-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label.inline[_ngcontent-%COMP%]{display:inline;margin-right:.5rem}.templates-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #d1d5db;border-radius:6px;font-size:1rem;transition:all .2s}.templates-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#2d1674;box-shadow:0 0 0 3px #ff8c421a}.templates-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{resize:vertical;font-family:inherit}.templates-container[_ngcontent-%COMP%]   .form-group.checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:.75rem}.templates-container[_ngcontent-%COMP%]   .form-group.checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer;margin-right:.5rem}.templates-container[_ngcontent-%COMP%]   .form-group.checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;cursor:pointer;-webkit-user-select:none;user-select:none}.templates-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#f56565;font-size:.875rem;margin-top:.25rem;display:block}.templates-container[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}@media(max-width:768px){.templates-container[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.templates-container[_ngcontent-%COMP%]   .checkbox-group[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:.75rem}.templates-container[_ngcontent-%COMP%]   .checkbox-group[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:0}.templates-container[_ngcontent-%COMP%]   .style-options[_ngcontent-%COMP%]{background:#5a5959;padding:1rem;border-radius:6px;margin-top:1rem;border-left:3px solid #2d1674}.templates-container[_ngcontent-%COMP%]   .style-options[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{margin-bottom:1rem}.templates-container[_ngcontent-%COMP%]   .style-options[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.templates-container[_ngcontent-%COMP%]   .style-options-compact[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;align-items:center;margin-top:.5rem;padding:.5rem 0;font-size:.85rem}.templates-container[_ngcontent-%COMP%]   .style-options-compact[_ngcontent-%COMP%]   .style-select[_ngcontent-%COMP%]{padding:.4rem .6rem;border:1px solid #d1d5db;border-radius:4px;font-size:.8rem;background:#fff;cursor:pointer;transition:all .2s;min-width:50px}.templates-container[_ngcontent-%COMP%]   .style-options-compact[_ngcontent-%COMP%]   .style-select[_ngcontent-%COMP%]:hover{border-color:#2d1674}.templates-container[_ngcontent-%COMP%]   .style-options-compact[_ngcontent-%COMP%]   .style-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#2d1674;box-shadow:0 0 0 2px #ff8c421a}.templates-container[_ngcontent-%COMP%]   .style-options-compact[_ngcontent-%COMP%]   .style-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:.5rem}.templates-container[_ngcontent-%COMP%]   .style-options-compact[_ngcontent-%COMP%]   .style-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;padding:.4rem .6rem;border:1px solid #d1d5db;border-radius:4px;transition:all .2s;min-width:32px;justify-content:center}.templates-container[_ngcontent-%COMP%]   .style-options-compact[_ngcontent-%COMP%]   .style-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.templates-container[_ngcontent-%COMP%]   .style-options-compact[_ngcontent-%COMP%]   .style-checkbox[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;color:#595959;font-size:.9rem}.templates-container[_ngcontent-%COMP%]   .style-options-compact[_ngcontent-%COMP%]   .style-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]{color:#2d1674}.templates-container[_ngcontent-%COMP%]   .style-options-compact[_ngcontent-%COMP%]   .style-checkbox[_ngcontent-%COMP%]:hover{border-color:#2d1674;background:#ff8c420d}.templates-container[_ngcontent-%COMP%]   .style-options-compact[_ngcontent-%COMP%]   .style-group[_ngcontent-%COMP%]{display:flex;gap:.4rem;align-items:center;padding:.4rem;background:#00000005;border-radius:4px}.templates-container[_ngcontent-%COMP%]   .style-options-compact[_ngcontent-%COMP%]   .style-group[_ngcontent-%COMP%]   .style-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#595959;min-width:50px}.templates-container[_ngcontent-%COMP%]   .form-section-title[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#262626;text-transform:uppercase;letter-spacing:.5px;margin:1rem 0 .75rem;padding-bottom:.5rem;border-bottom:1px solid #d1d5db}.templates-container[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end;margin-top:2rem;padding-top:2rem;border-top:1px solid #d1d5db}.templates-container[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-size:1rem;font-weight:600;border:none;border-radius:8px;cursor:pointer;transition:all .2s}.templates-container[_ngcontent-%COMP%]   .form-with-preview[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:2rem;align-items:start}@media(max-width:1200px){.templates-container[_ngcontent-%COMP%]   .form-with-preview[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}}.templates-container[_ngcontent-%COMP%]   .form-with-preview[_ngcontent-%COMP%]   .form-section-wrapper[_ngcontent-%COMP%]{flex:1}.templates-container[_ngcontent-%COMP%]   .form-with-preview[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]{flex:1;position:sticky;top:100px}.templates-container[_ngcontent-%COMP%]   .form-with-preview[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#262626;margin:0 0 1rem}.templates-container[_ngcontent-%COMP%]   .form-with-preview[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]{border:1px solid #d1d5db;border-radius:8px;padding:1rem;background:#fafafa;overflow-y:auto;max-height:600px;display:flex;justify-content:center}.templates-container[_ngcontent-%COMP%]   .form-with-preview[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%}']})}}return n})()},7314:(b,E,i)=>{i.d(E,{D:()=>h});var r=i(5547),_=i(7705),c=i(6845);let h=(()=>{class g{constructor(t,m){this.t=t,this.cdr=m,this.t.translationsChanged$.subscribe(()=>{try{this.cdr.markForCheck()}catch{}})}transform(t,m){return this.t.translate(t,m)}static{this.\u0275fac=function(m){return new(m||g)(r.rXU(c.L,16),r.rXU(_.gRc,16))}}static{this.\u0275pipe=r.EJ8({name:"translate",type:g,pure:!1})}}return g})()},8397:(b,E,i)=>{i.d(E,{f:()=>c});var r=i(1413),_=i(375);let c=(()=>{class h{constructor(){this.subject=new r.B,this._id=0}show(M,t="info",m=2e3){const u={id:++this._id,message:M,type:t,duration:m};return this.subject.next(u),u.id}onToast(){return this.subject.asObservable()}static{this.\u0275fac=function(t){return new(t||h)}}static{this.\u0275prov=_.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()},8914:(b,E,i)=>{i.d(E,{h:()=>h});var r=i(5312),_=i(375),c=i(6175);let h=(()=>{class g{constructor(t){this.http=t,this.apiUrl=`${r.c.apiUrl}/templates`}getTemplates(){return this.http.get(this.apiUrl)}getDefaultTemplate(){return this.http.get(`${this.apiUrl}/default`)}getTemplate(t){return this.http.get(`${this.apiUrl}/${t}`)}createTemplate(t){return this.http.post(this.apiUrl,t)}updateTemplate(t,m){return this.http.put(`${this.apiUrl}/${t}`,m)}deleteTemplate(t){return this.http.delete(`${this.apiUrl}/${t}`)}static{this.\u0275fac=function(m){return new(m||g)(_.KVO(c.Qq))}}static{this.\u0275prov=_.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})()}}]);