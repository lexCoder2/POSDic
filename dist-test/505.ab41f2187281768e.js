"use strict";(self.webpackChunkretail_pos=self.webpackChunkretail_pos||[]).push([[505],{119:(C,P,s)=>{s.d(P,{o:()=>a});var i=s(5547),p=s(497);let a=(()=>{class g{constructor(l){this.currencyService=l}transform(l,d=2){return null==l||isNaN(l)?`${this.currencyService.getSymbol()}0.00`:this.currencyService.format(l,d)}static{this.\u0275fac=function(d){return new(d||g)(i.rXU(p.P,16))}}static{this.\u0275pipe=i.EJ8({name:"appCurrency",type:g,pure:!1})}}return g})()},505:(C,P,s)=>{s.d(P,{InventorySessionComponent:()=>A});var i=s(375),p=s(9769),a=s(4341),g=s(1413),m=s(6977),l=s(8659),d=s(7314),f=s(119),O=s(5312),n=s(5547),S=s(6241),E=s(4796),v=s(8397),x=s(6845),b=s(3036),y=s(4078);function I(r,_){if(1&r&&n.nrm(0,"img",46),2&r){const t=n.XpG(2);n.Y8G("src",t.apiUrl+"/"+t.currentProduct.local_image,n.B4B)("alt",t.currentProduct.name)}}function R(r,_){1&r&&(n.j41(0,"div",47),n.nrm(1,"i",48),n.k0s())}function k(r,_){if(1&r&&(n.j41(0,"div",49),n.EFF(1),n.k0s()),2&r){const t=n.XpG(2);n.R7$(),n.SpI(" ",t.currentProduct.category," ")}}function T(r,_){if(1&r&&(n.j41(0,"span",50),n.EFF(1),n.nI1(2,"appCurrency"),n.k0s()),2&r){const t=n.XpG(2);n.AVh("positive",t.newPrice>t.currentProduct.price)("negative",t.newPrice<t.currentProduct.price),n.R7$(),n.Lme(" ",t.newPrice-t.currentProduct.price>0?"+":"","",n.bMT(2,6,t.newPrice-t.currentProduct.price)," ")}}function w(r,_){if(1&r&&(n.j41(0,"span",50),n.EFF(1),n.k0s()),2&r){const t=n.XpG(2);n.AVh("positive",t.newStock>(t.currentProduct.stock||0))("negative",t.newStock<(t.currentProduct.stock||0)),n.R7$(),n.Lme(" ",t.newStock-(t.currentProduct.stock||0)>0?"+":"","",t.newStock-(t.currentProduct.stock||0)," ")}}function N(r,_){if(1&r){const t=n.RV6();n.j41(0,"div",19)(1,"div",20)(2,"div",21),n.DNE(3,I,1,2,"img",22)(4,R,2,0,"div",23),n.k0s(),n.j41(5,"div",24),n.EFF(6),n.k0s(),n.DNE(7,k,2,1,"div",25),n.k0s(),n.j41(8,"div",26)(9,"form",27),n.bIt("submit",function(){i.eBV(t);const o=n.XpG();return i.Njj(o.updateProduct())}),n.j41(10,"div",28)(11,"label",29),n.nrm(12,"i",30),n.EFF(13),n.nI1(14,"translate"),n.k0s(),n.j41(15,"input",31),n.mxI("ngModelChange",function(o){i.eBV(t);const c=n.XpG();return n.DH7(c.newEan,o)||(c.newEan=o),i.Njj(o)}),n.k0s()(),n.j41(16,"div",32)(17,"label",33),n.nrm(18,"i",34),n.EFF(19),n.nI1(20,"translate"),n.k0s(),n.j41(21,"div",35)(22,"input",36),n.mxI("ngModelChange",function(o){i.eBV(t);const c=n.XpG();return n.DH7(c.newPrice,o)||(c.newPrice=o),i.Njj(o)}),n.k0s(),n.DNE(23,T,3,8,"span",37),n.k0s(),n.j41(24,"div",38),n.EFF(25),n.nI1(26,"translate"),n.nI1(27,"appCurrency"),n.k0s()(),n.j41(28,"div",32)(29,"label",39),n.nrm(30,"i",40),n.EFF(31),n.nI1(32,"translate"),n.k0s(),n.j41(33,"div",35)(34,"input",41),n.mxI("ngModelChange",function(o){i.eBV(t);const c=n.XpG();return n.DH7(c.newStock,o)||(c.newStock=o),i.Njj(o)}),n.k0s(),n.DNE(35,w,2,6,"span",37),n.k0s(),n.j41(36,"div",38),n.EFF(37),n.nI1(38,"translate"),n.k0s()(),n.j41(39,"div",42)(40,"button",43),n.nrm(41,"i",44),n.EFF(42),n.nI1(43,"translate"),n.k0s(),n.j41(44,"button",45),n.bIt("click",function(){i.eBV(t);const o=n.XpG();return i.Njj(o.clearProduct())}),n.nrm(45,"i",3),n.EFF(46),n.nI1(47,"translate"),n.k0s()()()()()}if(2&r){const t=n.XpG();n.R7$(3),n.Y8G("ngIf",t.currentProduct.local_image),n.R7$(),n.Y8G("ngIf",!t.currentProduct.local_image),n.R7$(2),n.JRh(t.currentProduct.name),n.R7$(),n.Y8G("ngIf",t.currentProduct.category),n.R7$(6),n.SpI(" ",n.bMT(14,21,"PRODUCTS.EAN")," "),n.R7$(2),n.R50("ngModel",t.newEan),n.Y8G("placeholder",t.currentProduct.ean||""),n.R7$(4),n.SpI(" ",n.bMT(20,23,"PRODUCTS.PRICE")," "),n.R7$(3),n.R50("ngModel",t.newPrice),n.R7$(),n.Y8G("ngIf",t.newPrice!==t.currentProduct.price),n.R7$(2),n.Lme(" ",n.bMT(26,25,"INVENTORY_SESSION.CURRENT"),": ",n.bMT(27,27,t.currentProduct.price)," "),n.R7$(6),n.SpI(" ",n.bMT(32,29,"PRODUCTS.STOCK")," "),n.R7$(3),n.R50("ngModel",t.newStock),n.R7$(),n.Y8G("ngIf",t.newStock!==(t.currentProduct.stock||0)),n.R7$(2),n.Lme(" ",n.bMT(38,31,"INVENTORY_SESSION.CURRENT"),": ",t.currentProduct.stock," "),n.R7$(3),n.Y8G("disabled",t.saving),n.R7$(2),n.SpI(" ",n.bMT(43,33,"INVENTORY_SESSION.UPDATE")," "),n.R7$(2),n.Y8G("disabled",t.saving),n.R7$(2),n.SpI(" ",n.bMT(47,35,"INVENTORY_SESSION.SKIP")," ")}}function D(r,_){1&r&&(n.j41(0,"div",51),n.nrm(1,"i",52),n.j41(2,"p"),n.EFF(3),n.nI1(4,"translate"),n.k0s()()),2&r&&(n.R7$(3),n.JRh(n.bMT(4,1,"INVENTORY_SESSION.EMPTY_STATE")))}function F(r,_){if(1&r&&(n.j41(0,"span",64),n.EFF(1),n.nI1(2,"appCurrency"),n.k0s()),2&r){const t=n.XpG().$implicit,e=n.XpG(2);n.AVh("positive",e.getPriceChange(t)>0)("negative",e.getPriceChange(t)<0),n.R7$(),n.Lme(" ",e.getPriceChange(t)>0?"+":"","",n.bMT(2,6,e.getPriceChange(t))," ")}}function j(r,_){if(1&r&&(n.j41(0,"span",64),n.EFF(1),n.k0s()),2&r){const t=n.XpG().$implicit,e=n.XpG(2);n.AVh("positive",e.getStockChange(t)>0)("negative",e.getStockChange(t)<0),n.R7$(),n.Lme(" ",e.getStockChange(t)>0?"+":"","",e.getStockChange(t)," ")}}function $(r,_){if(1&r&&(n.j41(0,"tr")(1,"td"),n.EFF(2),n.nI1(3,"date"),n.k0s(),n.j41(4,"td"),n.EFF(5),n.k0s(),n.j41(6,"td")(7,"span",58),n.EFF(8),n.k0s()(),n.j41(9,"td")(10,"div",59)(11,"span",60),n.EFF(12),n.nI1(13,"appCurrency"),n.k0s(),n.nrm(14,"i",61),n.j41(15,"span",62),n.EFF(16),n.nI1(17,"appCurrency"),n.k0s(),n.DNE(18,F,3,8,"span",63),n.k0s()(),n.j41(19,"td")(20,"div",59)(21,"span",60),n.EFF(22),n.k0s(),n.nrm(23,"i",61),n.j41(24,"span",62),n.EFF(25),n.k0s(),n.DNE(26,j,2,6,"span",63),n.k0s()()()),2&r){const t=_.$implicit,e=n.XpG(2);n.R7$(2),n.JRh(n.i5U(3,9,t.timestamp,"shortTime")),n.R7$(3),n.JRh(t.productName),n.R7$(3),n.JRh(t.ean||"-"),n.R7$(4),n.JRh(n.bMT(13,12,t.oldPrice)),n.R7$(4),n.JRh(n.bMT(17,14,t.newPrice)),n.R7$(2),n.Y8G("ngIf",0!==e.getPriceChange(t)),n.R7$(4),n.JRh(t.oldStock),n.R7$(3),n.JRh(t.newStock),n.R7$(),n.Y8G("ngIf",0!==e.getStockChange(t))}}function U(r,_){if(1&r&&(n.j41(0,"div",53)(1,"h3"),n.nrm(2,"i",54),n.EFF(3),n.nI1(4,"translate"),n.k0s(),n.j41(5,"div",55)(6,"table",56)(7,"thead")(8,"tr")(9,"th"),n.EFF(10),n.nI1(11,"translate"),n.k0s(),n.j41(12,"th"),n.EFF(13),n.nI1(14,"translate"),n.k0s(),n.j41(15,"th"),n.EFF(16),n.nI1(17,"translate"),n.k0s(),n.j41(18,"th"),n.EFF(19),n.nI1(20,"translate"),n.k0s(),n.j41(21,"th"),n.EFF(22),n.nI1(23,"translate"),n.k0s()()(),n.j41(24,"tbody"),n.DNE(25,$,27,16,"tr",57),n.k0s()()()()),2&r){const t=n.XpG();n.R7$(3),n.SpI(" ",n.bMT(4,7,"INVENTORY_SESSION.RECENT_UPDATES")," "),n.R7$(7),n.JRh(n.bMT(11,9,"INVENTORY_SESSION.TIME")),n.R7$(3),n.JRh(n.bMT(14,11,"PRODUCTS.NAME")),n.R7$(3),n.JRh(n.bMT(17,13,"PRODUCTS.EAN")),n.R7$(3),n.JRh(n.bMT(20,15,"INVENTORY_SESSION.PRICE_CHANGE")),n.R7$(3),n.JRh(n.bMT(23,17,"INVENTORY_SESSION.STOCK_CHANGE")),n.R7$(3),n.Y8G("ngForOf",t.session().updates)}}let A=(()=>{class r{get apiUrl(){return O.c.apiUrl}constructor(t,e,o,c,h,u,M){this.productService=t,this.authService=e,this.toastService=o,this.translation=c,this.router=h,this.route=u,this.searchStateService=M,this.destroy$=new g.B,this.currentUser=null,this.session=(0,i.vPA)({startedAt:new Date,startedBy:"",updates:[]}),this.currentProduct=null,this.saving=!1,this.isStockRegistration=!1,this.newPrice=0,this.newStock=0,this.newEan=""}ngOnInit(){if(this.currentUser=this.authService.getCurrentUser(),!this.currentUser)return void this.router.navigate(["/login"]);const t=this.session();t.startedBy=this.currentUser.username||this.currentUser.firstName||"Unknown",this.session.set(t),this.route.queryParams.pipe((0,m.Q)(this.destroy$)).subscribe(e=>{const o=e.ean;o&&this.searchProduct(o)}),this.searchStateService.searchQuery$.pipe((0,m.Q)(this.destroy$)).subscribe(e=>{e.trim()&&this.searchProduct(e)}),this.route.snapshot.queryParams.ean||this.searchStateService.clearSearch()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}searchProduct(t){t.trim()&&this.productService.searchProducts(t.trim()).pipe((0,m.Q)(this.destroy$)).subscribe({next:e=>{if(0===e.length)return this.toastService.show(this.translation.translate("INVENTORY_SESSION.PRODUCT_NOT_FOUND"),"info"),void this.searchStateService.clearSearch();this.loadProduct(e[0]),this.searchStateService.clearSearch()},error:e=>{console.error("Error searching product:",e),this.toastService.show(this.translation.translate("INVENTORY_SESSION.SEARCH_ERROR"),"error")}})}loadProduct(t){this.currentProduct=t,this.newPrice=t.price||0,this.newStock=this.isStockRegistration?(t.stock||0)+1:t.stock||0,this.newEan=t.ean||"",t.ean&&(this.router.navigate([],{relativeTo:this.route,queryParams:{ean:t.ean},queryParamsHandling:"merge",replaceUrl:!0}),this.searchStateService.setSearchQuery(t.ean)),this.isStockRegistration?setTimeout(()=>{this.updateProduct()},100):setTimeout(()=>{const e=document.getElementById("price-input");e?.focus(),e?.select()},100)}updateProduct(){if(!this.currentProduct)return;if(this.newPrice<0||this.newStock<0)return void this.toastService.show(this.translation.translate("INVENTORY_SESSION.INVALID_VALUES"),"error");if(this.newPrice===this.currentProduct.price&&this.newStock===this.currentProduct.stock&&this.newEan===(this.currentProduct.ean||""))return this.toastService.show(this.translation.translate("INVENTORY_SESSION.NO_CHANGES"),"info"),void this.clearProduct();this.saving=!0;const e={...this.currentProduct,price:this.newPrice,stock:this.newStock,ean:this.newEan||void 0};this.productService.updateProduct(this.currentProduct._id,e).pipe((0,m.Q)(this.destroy$)).subscribe({next:()=>{this.saving=!1;const o={productId:this.currentProduct._id,productName:this.currentProduct.name,ean:this.newEan||this.currentProduct.ean,oldPrice:this.currentProduct.price||0,newPrice:this.newPrice,oldStock:this.currentProduct.stock||0,newStock:this.newStock,timestamp:new Date},c=this.session();c.updates=[o,...c.updates],this.session.set(c),this.toastService.show(this.translation.translate("INVENTORY_SESSION.PRODUCT_UPDATED"),"success"),this.clearProduct()},error:o=>{this.saving=!1,console.error("Error updating product:",o),this.toastService.show(this.translation.translate("INVENTORY_SESSION.UPDATE_ERROR"),"error")}})}clearProduct(){this.currentProduct=null,this.newPrice=0,this.newStock=0,this.newEan="",this.searchStateService.clearSearch(),this.router.navigate([],{relativeTo:this.route,queryParams:{ean:null},queryParamsHandling:"merge",replaceUrl:!0})}completeSession(){0!==this.session().updates.length?(this.generateReport(),this.router.navigate(["/inventory"])):this.toastService.show(this.translation.translate("INVENTORY_SESSION.NO_UPDATES"),"info")}cancelSession(){this.session().updates.length>0&&!window.confirm(this.translation.translate("INVENTORY_SESSION.CONFIRM_CANCEL"))||this.router.navigate(["/inventory"])}generateReport(){const t=this.session();let e="INVENTORY SESSION REPORT\n";e+="=============================================\n\n",e+=`Started: ${t.startedAt.toLocaleString()}\n`,e+=`Completed: ${(new Date).toLocaleString()}\n`,e+=`Performed by: ${t.startedBy}\n`,e+=`Total Updates: ${t.updates.length}\n\n`,e+="=============================================\n\n",t.updates.forEach((u,M)=>{e+=`${M+1}. ${u.productName}\n`,u.ean&&(e+=`   EAN: ${u.ean}\n`),e+=`   Price: $${u.oldPrice.toFixed(2)} \u2192 $${u.newPrice.toFixed(2)}\n`,e+=`   Stock: ${u.oldStock} \u2192 ${u.newStock}\n`,e+=`   Time: ${u.timestamp.toLocaleTimeString()}\n\n`});const o=new Blob([e],{type:"text/plain"}),c=window.URL.createObjectURL(o),h=document.createElement("a");h.href=c,h.download=`inventory-session-${(new Date).toISOString().split("T")[0]}.txt`,h.click(),window.URL.revokeObjectURL(c),this.toastService.show(this.translation.translate("INVENTORY_SESSION.REPORT_GENERATED"),"success")}getPriceChange(t){return t.newPrice-t.oldPrice}getStockChange(t){return t.newStock-t.oldStock}static{this.\u0275fac=function(e){return new(e||r)(n.rXU(S.b),n.rXU(E.u),n.rXU(v.f),n.rXU(x.L),n.rXU(b.Ix),n.rXU(b.nX),n.rXU(y.$))}}static{this.\u0275cmp=n.VBU({type:r,selectors:[["app-inventory-session"]],decls:37,vars:24,consts:[["icon","fas fa-clipboard-check",3,"title"],[1,"session-actions"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-times"],[1,"btn","btn-success",3,"click","disabled"],[1,"fas","fa-check"],[1,"inventory-session-container"],[1,"session-info"],[1,"session-info-item"],[1,"fas","fa-user"],[1,"fas","fa-clock"],[1,"stock-registration-toggle"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"fas","fa-box-open"],[1,"fas","fa-list"],[1,"product-editor"],["class","product-form",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","updates-section",4,"ngIf"],[1,"product-form"],[1,"form-left"],[1,"product-image"],[3,"src","alt",4,"ngIf"],["class","no-image",4,"ngIf"],[1,"product-name"],["class","product-category",4,"ngIf"],[1,"form-right"],[3,"submit"],[1,"form-group"],["for","ean-input"],[1,"fas","fa-barcode"],["id","ean-input","type","text","name","ean",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"form-group","highlight"],["for","price-input"],[1,"fas","fa-dollar-sign"],[1,"input-with-change"],["id","price-input","type","number","name","price","step","0.01","min","0","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","change-indicator",3,"positive","negative",4,"ngIf"],[1,"old-value"],["for","stock-input"],[1,"fas","fa-boxes"],["id","stock-input","type","number","name","stock","step","1","min","0","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"fas","fa-save"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],[3,"src","alt"],[1,"no-image"],[1,"fas","fa-image"],[1,"product-category"],[1,"change-indicator"],[1,"empty-state"],[1,"fas","fa-search"],[1,"updates-section"],[1,"fas","fa-history"],[1,"table-container"],[1,"table"],[4,"ngFor","ngForOf"],[1,"ean-code"],[1,"change-cell"],[1,"old-val"],[1,"fas","fa-arrow-right"],[1,"new-val"],["class","change-badge",3,"positive","negative",4,"ngIf"],[1,"change-badge"]],template:function(e,o){1&e&&(n.j41(0,"app-page-title",0)(1,"div",1)(2,"button",2),n.bIt("click",function(){return o.cancelSession()}),n.nrm(3,"i",3),n.EFF(4),n.nI1(5,"translate"),n.k0s(),n.j41(6,"button",4),n.bIt("click",function(){return o.completeSession()}),n.nrm(7,"i",5),n.EFF(8),n.nI1(9,"translate"),n.k0s()()(),n.j41(10,"div",6)(11,"div",7)(12,"div",8),n.nrm(13,"i",9),n.j41(14,"span"),n.EFF(15),n.k0s()(),n.j41(16,"div",8),n.nrm(17,"i",10),n.j41(18,"span"),n.EFF(19),n.nI1(20,"date"),n.k0s()(),n.j41(21,"div",8)(22,"label",11)(23,"input",12),n.mxI("ngModelChange",function(h){return n.DH7(o.isStockRegistration,h)||(o.isStockRegistration=h),h}),n.k0s(),n.nrm(24,"i",13),n.j41(25,"span"),n.EFF(26),n.nI1(27,"translate"),n.k0s()()(),n.j41(28,"div",8),n.nrm(29,"i",14),n.j41(30,"span"),n.EFF(31),n.nI1(32,"translate"),n.k0s()()(),n.j41(33,"div",15),n.DNE(34,N,48,37,"div",16)(35,D,5,3,"div",17),n.k0s(),n.DNE(36,U,26,19,"div",18),n.k0s()),2&e&&(n.Y8G("title"," "),n.R7$(4),n.SpI(" ",n.bMT(5,13,"INVENTORY_SESSION.CANCEL")," "),n.R7$(2),n.Y8G("disabled",0===o.session().updates.length),n.R7$(2),n.SpI(" ",n.bMT(9,15,"INVENTORY_SESSION.COMPLETE")," "),n.R7$(7),n.JRh(o.session().startedBy),n.R7$(4),n.JRh(n.i5U(20,17,o.session().startedAt,"short")),n.R7$(4),n.R50("ngModel",o.isStockRegistration),n.R7$(3),n.JRh(n.bMT(27,20,"INVENTORY_SESSION.STOCK_REGISTRATION_MODE")),n.R7$(5),n.Lme("",o.session().updates.length," ",n.bMT(32,22,"INVENTORY_SESSION.UPDATES")),n.R7$(3),n.Y8G("ngIf",o.currentProduct),n.R7$(),n.Y8G("ngIf",!o.currentProduct),n.R7$(),n.Y8G("ngIf",o.session().updates.length>0))},dependencies:[p.MD,p.Sq,p.bT,a.YN,a.qT,a.me,a.Q0,a.Zm,a.BC,a.cb,a.YS,a.VZ,a.vS,a.cV,l.j,p.vh,d.D,f.o],styles:['@import"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap";.dark-theme[_ngcontent-%COMP%]{--neumorphic-bg: #1a1d24;--neumorphic-surface: #222831;--text-primary: #e5e7eb;--text-secondary: #9ca3af;--text-muted: #6b7280;--bg-primary: #1a1d24;--bg-secondary: #222831;--bg-tertiary: #2d3139;--bg-hover: #3a3f4b;--bg-active: #4a5161;--border-color: #3a3f4b;--card-bg: #222831;--input-bg: #2d3139;--sidebar-text: rgba(255, 255, 255, .7);--sidebar-text-active: #ffffff;--shadow-neumorphic: 6px 6px 12px rgba(0, 0, 0, .4), -6px -6px 12px rgba(255, 255, 255, .02);--shadow-neumorphic-sm: 3px 3px 6px rgba(0, 0, 0, .3), -3px -3px 6px rgba(255, 255, 255, .02);--shadow-neumorphic-lg: 9px 9px 16px rgba(0, 0, 0, .5), -9px -9px 16px rgba(255, 255, 255, .03);--shadow-neumorphic-inset: inset 3px 3px 6px rgba(0, 0, 0, .3), inset -3px -3px 6px rgba(255, 255, 255, .02);background-color:var(--bg-primary);color:var(--text-primary)}.inventory-session-container[_ngcontent-%COMP%]{padding:1rem;max-width:1400px;margin:0 auto;display:flex;flex-direction:column;gap:1rem}.session-info[_ngcontent-%COMP%]{background:#fff;border-radius:24px;box-shadow:0 4px 24px #0000000f;border:1px solid rgba(0,0,0,.04);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);display:flex;align-items:center;justify-content:space-between;gap:.75rem;padding:1rem 1.5rem;background:linear-gradient(135deg,#2d167414,#2d167408);border:1px solid rgba(45,22,116,.15)}.session-info[_ngcontent-%COMP%]   .session-info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.95rem;font-weight:500;color:#262626}.session-info[_ngcontent-%COMP%]   .session-info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#2d1674;font-size:1.125rem}.session-info[_ngcontent-%COMP%]   .session-info-item[_ngcontent-%COMP%]   .stock-registration-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;-webkit-user-select:none;user-select:none;padding:.5rem .75rem;background:#48bb781a;border:2px solid rgba(72,187,120,.3);border-radius:9999px;transition:.2s ease}.session-info[_ngcontent-%COMP%]   .session-info-item[_ngcontent-%COMP%]   .stock-registration-toggle[_ngcontent-%COMP%]:hover{background:#48bb7826;border-color:#48bb7866}.session-info[_ngcontent-%COMP%]   .session-info-item[_ngcontent-%COMP%]   .stock-registration-toggle[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer;accent-color:#48bb78}.session-info[_ngcontent-%COMP%]   .session-info-item[_ngcontent-%COMP%]   .stock-registration-toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#48bb78;font-size:1rem}.session-info[_ngcontent-%COMP%]   .session-info-item[_ngcontent-%COMP%]   .stock-registration-toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#38a169}.product-editor[_ngcontent-%COMP%]{min-height:400px}.product-form[_ngcontent-%COMP%]{background:#fff;border-radius:24px;box-shadow:0 4px 24px #0000000f;border:1px solid rgba(0,0,0,.04);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);display:grid;grid-template-columns:320px 1fr;gap:2rem;padding:1.5rem}@media(max-width:968px){.product-form[_ngcontent-%COMP%]{grid-template-columns:1fr}}.form-left[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.75rem}.form-left[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{width:100%;aspect-ratio:1;border-radius:24px;overflow:hidden;background:#fff;display:flex;align-items:center;justify-content:center;box-shadow:inset 0 2px 4px #0000000a}.form-left[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.form-left[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]{font-size:4rem;color:#8c8c8c;opacity:.4}.form-left[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#262626;text-align:center;line-height:1.25}.form-left[_ngcontent-%COMP%]   .product-category[_ngcontent-%COMP%]{font-size:.95rem;color:#595959;text-align:center;padding:.25rem .75rem;background:#2d167414;border-radius:9999px}.form-right[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-right[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;flex:1}.form-right[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-right[_ngcontent-%COMP%]   .form-group.highlight[_ngcontent-%COMP%]{padding:1rem;background:linear-gradient(135deg,#2d16740f,#2d167405);border:2px solid rgba(45,22,116,.2);border-radius:24px;box-shadow:0 2px 4px #0000000a}.form-right[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:1rem;font-weight:600;color:#262626}.form-right[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#2d1674;font-size:1.25rem}.form-right[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:.5rem 1rem;border:1px solid rgba(0,0,0,.08);border-radius:16px;font-size:.95rem;background:#fff;color:#262626;outline:none;transition:.2s ease;min-height:40px;box-shadow:0 2px 4px #00000005}.form-right[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-right[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #2d16741a}.form-right[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600}.form-right[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-with-change[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;gap:.75rem}.form-right[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-with-change[_ngcontent-%COMP%]   .change-indicator[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%);font-size:.95rem;font-weight:700;padding:.5rem .75rem;border-radius:9999px;pointer-events:none}.form-right[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-with-change[_ngcontent-%COMP%]   .change-indicator.positive[_ngcontent-%COMP%]{color:#38a169;background:#48bb7826;border:1px solid rgba(72,187,120,.4)}.form-right[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-with-change[_ngcontent-%COMP%]   .change-indicator.negative[_ngcontent-%COMP%]{color:#e53e3e;background:#f5656526;border:1px solid rgba(245,101,101,.4)}.form-right[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .old-value[_ngcontent-%COMP%]{font-size:.95rem;color:#595959;padding-left:.5rem;font-weight:500}.form-right[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-top:auto;padding-top:.75rem}.form-right[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:9999px;border:1px solid transparent;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:inline-flex;align-items:center;justify-content:center;gap:.5rem;min-height:24px;box-shadow:none}.form-right[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#0000000a}.form-right[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:active{transform:scale(.98)}.form-right[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.form-right[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:#2d1674;color:#fff;box-shadow:none}.form-right[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#1e0f52;transform:translateY(-1px)}.form-right[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.form-right[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{flex:1;font-size:1rem}.form-right[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:9999px;border:1px solid transparent;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:inline-flex;align-items:center;justify-content:center;gap:.5rem;min-height:24px;box-shadow:none}.form-right[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#0000000a}.form-right[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:active{transform:scale(.98)}.form-right[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.form-right[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#262626;border:1px solid #e5e7eb}.form-right[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#0000000a;border-color:#9ca3af}.form-right[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{flex:1;font-size:1rem;background:#e5e7eb}.form-right[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#d1d5db}.empty-state[_ngcontent-%COMP%]{border-radius:24px;box-shadow:0 4px 24px #0000000f;border:1px solid rgba(0,0,0,.04);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1rem;padding:4rem;border:2px dashed #d1d5db;background:#fff}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:5rem;color:#8c8c8c;opacity:.4}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.125rem;color:#595959;font-weight:500;text-align:center}.updates-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;font-size:1.25rem;font-weight:600;color:#262626;margin-bottom:1rem}.updates-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#2d1674;font-size:1.5rem}.updates-section[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{background:#fff;border-radius:24px;box-shadow:0 4px 24px #0000000f;border:none;padding:0;overflow:hidden}.updates-section[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0;background:transparent}.updates-section[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;background:#fff;color:#595959;font-weight:500;text-align:left;padding:1rem 1.5rem;border-bottom:1px solid rgba(0,0,0,.06);font-size:.875rem;z-index:1010}.updates-section[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background .15s ease}.updates-section[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#00000005}.updates-section[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(:last-child)   td[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.04)}.updates-section[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem 1.5rem;vertical-align:middle;color:#262626;font-size:.875rem;border:none}.updates-section[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .table-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.updates-section[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2d167414,#2d16740a);font-weight:600;font-size:.95rem;color:#262626}.updates-section[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .ean-code[_ngcontent-%COMP%]{font-family:monospace;font-size:.875rem;color:#595959}.updates-section[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .change-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex-wrap:wrap}.updates-section[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .change-cell[_ngcontent-%COMP%]   .old-val[_ngcontent-%COMP%]{color:#595959;text-decoration:line-through;font-size:.875rem}.updates-section[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .change-cell[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#595959;font-size:.75rem}.updates-section[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .change-cell[_ngcontent-%COMP%]   .new-val[_ngcontent-%COMP%]{color:#262626;font-weight:600}.updates-section[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .change-cell[_ngcontent-%COMP%]   .change-badge[_ngcontent-%COMP%]{font-size:.875rem;font-weight:700;padding:.25rem .75rem;border-radius:9999px}.updates-section[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .change-cell[_ngcontent-%COMP%]   .change-badge.positive[_ngcontent-%COMP%]{color:#38a169;background:#48bb7826;border:1px solid rgba(72,187,120,.4)}.updates-section[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .change-cell[_ngcontent-%COMP%]   .change-badge.negative[_ngcontent-%COMP%]{color:#e53e3e;background:#f5656526;border:1px solid rgba(245,101,101,.4)}.session-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;padding-top:1.5rem;border-top:2px solid #e5e7eb}.session-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:9999px;border:1px solid transparent;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:inline-flex;align-items:center;justify-content:center;gap:.5rem;min-height:24px;box-shadow:none}.session-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#0000000a}.session-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:active{transform:scale(.98)}.session-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.session-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#262626;border:1px solid #e5e7eb}.session-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#0000000a;border-color:#9ca3af}.session-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#e5e7eb}.session-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#d1d5db}.session-actions[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:9999px;border:1px solid transparent;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:inline-flex;align-items:center;justify-content:center;gap:.5rem;min-height:24px;box-shadow:none}.session-actions[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]:hover:not(:disabled){background:#0000000a}.session-actions[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]:active{transform:scale(.98)}.session-actions[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.session-actions[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]{background:#2d1674;color:#fff;box-shadow:none}.session-actions[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]:hover:not(:disabled){background:#1e0f52;transform:translateY(-1px)}.session-actions[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.session-actions[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#48bb78,#38a169);box-shadow:0 4px 12px #48bb7840}.session-actions[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 6px 20px #48bb784d;transform:translateY(-1px)}@media(max-width:768px){.inventory-session-container[_ngcontent-%COMP%]{padding:.75rem}.session-info[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.5rem}.product-form[_ngcontent-%COMP%]{padding:.75rem}.form-actions[_ngcontent-%COMP%], .session-actions[_ngcontent-%COMP%]{flex-direction:column}.form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .session-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.updates-section[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{overflow-x:auto}}']})}}return r})()},7314:(C,P,s)=>{s.d(P,{D:()=>g});var i=s(5547),p=s(7705),a=s(6845);let g=(()=>{class m{constructor(d,f){this.t=d,this.cdr=f,this.t.translationsChanged$.subscribe(()=>{try{this.cdr.markForCheck()}catch{}})}transform(d,f){return this.t.translate(d,f)}static{this.\u0275fac=function(f){return new(f||m)(i.rXU(a.L,16),i.rXU(p.gRc,16))}}static{this.\u0275pipe=i.EJ8({name:"translate",type:m,pure:!1})}}return m})()},8397:(C,P,s)=>{s.d(P,{f:()=>a});var i=s(1413),p=s(375);let a=(()=>{class g{constructor(){this.subject=new i.B,this._id=0}show(l,d="info",f=2e3){const O={id:++this._id,message:l,type:d,duration:f};return this.subject.next(O),O.id}onToast(){return this.subject.asObservable()}static{this.\u0275fac=function(d){return new(d||g)}}static{this.\u0275prov=p.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})()}}]);