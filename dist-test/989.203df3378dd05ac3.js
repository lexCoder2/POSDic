"use strict";(self.webpackChunkretail_pos=self.webpackChunkretail_pos||[]).push([[989],{4989:(P,M,a)=>{a.d(M,{UsersComponent:()=>w});var r=a(375),h=a(7017),_=a(9769),l=a(4341),b=a(1413),E=a(5245),g=a(6977),p=a(8659),f=a(9137),O=a(5312),R=a(7314),e=a(5547),F=a(9885),x=a(4796),v=a(4078),S=a(6175),U=a(6845),I=a(8397);const T=i=>({count:i});function j(i,m){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"strong"),e.EFF(3),e.k0s()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td")(11,"span",14),e.EFF(12),e.nI1(13,"titlecase"),e.k0s()(),e.j41(14,"td")(15,"span",15),e.EFF(16),e.nI1(17,"translate"),e.nI1(18,"translate"),e.k0s()(),e.j41(19,"td"),e.EFF(20),e.nI1(21,"date"),e.k0s(),e.j41(22,"td")(23,"div",16)(24,"button",17),e.bIt("click",function(){const n=r.eBV(t).$implicit,s=e.XpG();return r.Njj(s.openUserModal(n))}),e.nrm(25,"i",18),e.k0s(),e.j41(26,"button",19),e.nI1(27,"translate"),e.bIt("click",function(){const n=r.eBV(t).$implicit,s=e.XpG();return r.Njj(s.deleteUser(n.id))}),e.nrm(28,"i",20),e.k0s()()()()}if(2&i){const t=m.$implicit,o=e.XpG();e.R7$(3),e.JRh(t.username),e.R7$(2),e.Lme("",t.firstName," ",t.lastName),e.R7$(2),e.JRh(t.email),e.R7$(2),e.JRh(t.phone||"-"),e.R7$(2),e.HbH("role-"+t.role),e.R7$(),e.SpI(" ",e.bMT(13,17,t.role)," "),e.R7$(3),e.AVh("active",t.active)("inactive",!t.active),e.R7$(),e.SpI(" ",t.active?e.bMT(17,19,"USERS.STATUS.ACTIVE"):e.bMT(18,21,"USERS.STATUS.INACTIVE")," "),e.R7$(4),e.SpI(" ",t.lastLogin?e.i5U(21,23,t.lastLogin,"short"):"-"," "),e.R7$(6),e.Y8G("title",e.mNQ(e.bMT(27,26,"USERS.ACTIONS.DELETE")))("disabled",!o.isAdmin()||t.id===(null==o.currentUser?null:o.currentUser.id))}}function k(i,m){1&i&&(e.j41(0,"tr")(1,"td",21),e.EFF(2,"No users found"),e.k0s(),e.j41(3,"td",21),e.EFF(4),e.nI1(5,"translate"),e.k0s()()),2&i&&(e.R7$(4),e.SpI(" ",e.bMT(5,1,"USERS.EMPTY")," "))}function L(i,m){if(1&i){const t=e.RV6();e.j41(0,"button",28),e.bIt("click",function(){const n=r.eBV(t).$implicit,s=e.XpG(2);return r.Njj(n>0&&s.goToPage(n))}),e.EFF(1),e.k0s()}if(2&i){const t=m.$implicit,o=e.XpG(2);e.AVh("active",o.currentPage()===t)("ellipsis",-1===t),e.Y8G("disabled",-1===t),e.R7$(),e.SpI(" ",-1===t?"...":t," ")}}function A(i,m){if(1&i){const t=e.RV6();e.j41(0,"div",22)(1,"button",23),e.bIt("click",function(){r.eBV(t);const n=e.XpG();return r.Njj(n.prevPage())}),e.nrm(2,"i",24),e.EFF(3," Previous "),e.k0s(),e.j41(4,"div",25),e.DNE(5,L,2,6,"button",26),e.k0s(),e.j41(6,"button",23),e.bIt("click",function(){r.eBV(t);const n=e.XpG();return r.Njj(n.nextPage())}),e.EFF(7," Next "),e.nrm(8,"i",27),e.k0s()()}if(2&i){const t=e.XpG();e.R7$(),e.Y8G("disabled",1===t.currentPage()),e.R7$(4),e.Y8G("ngForOf",t.getVisiblePages()),e.R7$(),e.Y8G("disabled",t.currentPage()===t.totalPages())}}function N(i,m){if(1&i){const t=e.RV6();e.j41(0,"div",36)(1,"label",58),e.EFF(2,"Password *"),e.k0s(),e.j41(3,"input",59),e.mxI("ngModelChange",function(n){r.eBV(t);const s=e.XpG(2);return e.DH7(s.userForm.password,n)||(s.userForm.password=n),r.Njj(n)}),e.k0s()()}if(2&i){const t=e.XpG(2);e.R7$(3),e.R50("ngModel",t.userForm.password),e.Y8G("required",!t.isEditing)}}function D(i,m){if(1&i){const t=e.RV6();e.j41(0,"div",36)(1,"label",60),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"input",61),e.nI1(5,"translate"),e.mxI("ngModelChange",function(n){r.eBV(t);const s=e.XpG(2);return e.DH7(s.userForm.internalSalesLimit,n)||(s.userForm.internalSalesLimit=n),r.Njj(n)}),e.k0s(),e.j41(6,"small",62),e.EFF(7),e.nI1(8,"translate"),e.k0s()()}if(2&i){const t=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,4,"USERS.FORM.INTERNAL_SALES_LIMIT")),e.R7$(2),e.R50("ngModel",t.userForm.internalSalesLimit),e.Y8G("placeholder",e.bMT(5,6,"USERS.FORM.INTERNAL_SALES_LIMIT_PLACEHOLDER")),e.R7$(3),e.JRh(e.bMT(8,8,"USERS.FORM.INTERNAL_SALES_LIMIT_HINT"))}}function y(i,m){if(1&i){const t=e.RV6();e.j41(0,"div",29),e.bIt("click",function(){r.eBV(t);const n=e.XpG();return r.Njj(n.showUserModal=!1)}),e.j41(1,"div",30),e.bIt("click",function(n){return r.eBV(t),r.Njj(n.stopPropagation())}),e.j41(2,"div",31)(3,"h2"),e.EFF(4),e.k0s(),e.j41(5,"h2"),e.EFF(6),e.nI1(7,"translate"),e.nI1(8,"translate"),e.k0s(),e.j41(9,"button",32),e.bIt("click",function(){r.eBV(t);const n=e.XpG();return r.Njj(n.showUserModal=!1)}),e.EFF(10,"\xd7"),e.k0s()(),e.j41(11,"div",33)(12,"form",34),e.bIt("ngSubmit",function(){r.eBV(t);const n=e.XpG();return r.Njj(n.saveUser())}),e.j41(13,"div",35)(14,"div",36)(15,"label",37),e.EFF(16,"Username *"),e.k0s(),e.j41(17,"label",37),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"input",38),e.nI1(21,"translate"),e.mxI("ngModelChange",function(n){r.eBV(t);const s=e.XpG();return e.DH7(s.userForm.username,n)||(s.userForm.username=n),r.Njj(n)}),e.k0s()(),e.j41(22,"div",36)(23,"label",39),e.EFF(24,"Email *"),e.k0s(),e.j41(25,"label",39),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"input",40),e.nI1(29,"translate"),e.mxI("ngModelChange",function(n){r.eBV(t);const s=e.XpG();return e.DH7(s.userForm.email,n)||(s.userForm.email=n),r.Njj(n)}),e.k0s()()(),e.j41(30,"div",35)(31,"div",36)(32,"label",41),e.EFF(33,"First Name *"),e.k0s(),e.j41(34,"label",41),e.EFF(35),e.nI1(36,"translate"),e.k0s(),e.j41(37,"input",42),e.nI1(38,"translate"),e.mxI("ngModelChange",function(n){r.eBV(t);const s=e.XpG();return e.DH7(s.userForm.firstName,n)||(s.userForm.firstName=n),r.Njj(n)}),e.k0s()(),e.j41(39,"div",36)(40,"label",43),e.EFF(41,"Last Name *"),e.k0s(),e.j41(42,"label",43),e.EFF(43),e.nI1(44,"translate"),e.k0s(),e.j41(45,"input",44),e.nI1(46,"translate"),e.mxI("ngModelChange",function(n){r.eBV(t);const s=e.XpG();return e.DH7(s.userForm.lastName,n)||(s.userForm.lastName=n),r.Njj(n)}),e.k0s()()(),e.j41(47,"div",35)(48,"div",36)(49,"label",45),e.EFF(50,"Phone"),e.k0s(),e.j41(51,"label",45),e.EFF(52),e.nI1(53,"translate"),e.k0s(),e.j41(54,"input",46),e.nI1(55,"translate"),e.mxI("ngModelChange",function(n){r.eBV(t);const s=e.XpG();return e.DH7(s.userForm.phone,n)||(s.userForm.phone=n),r.Njj(n)}),e.k0s()(),e.j41(56,"div",36)(57,"label",47),e.EFF(58,"Role *"),e.k0s(),e.j41(59,"label",47),e.EFF(60),e.nI1(61,"translate"),e.k0s(),e.j41(62,"select",48),e.mxI("ngModelChange",function(n){r.eBV(t);const s=e.XpG();return e.DH7(s.userForm.role,n)||(s.userForm.role=n),r.Njj(n)}),e.j41(63,"option",49),e.EFF(64,"Cashier"),e.k0s(),e.j41(65,"option",50),e.EFF(66,"Employee"),e.k0s(),e.j41(67,"option",51),e.EFF(68,"Manager"),e.k0s(),e.j41(69,"option",52),e.EFF(70,"Admin"),e.k0s(),e.j41(71,"option",49),e.EFF(72),e.nI1(73,"translate"),e.k0s(),e.j41(74,"option",50),e.EFF(75),e.nI1(76,"translate"),e.k0s(),e.j41(77,"option",51),e.EFF(78),e.nI1(79,"translate"),e.k0s(),e.j41(80,"option",52),e.EFF(81),e.nI1(82,"translate"),e.k0s()()()(),e.DNE(83,N,4,2,"div",53),e.j41(84,"div",36)(85,"label"),e.EFF(86),e.nI1(87,"translate"),e.k0s(),e.j41(88,"app-toggle-switch",54),e.bIt("change",function(n){r.eBV(t);const s=e.XpG();return r.Njj(s.userForm.active=n)}),e.k0s()(),e.DNE(89,D,9,10,"div",53),e.j41(90,"div",55)(91,"button",56),e.bIt("click",function(){r.eBV(t);const n=e.XpG();return r.Njj(n.showUserModal=!1)}),e.EFF(92),e.nI1(93,"translate"),e.k0s(),e.j41(94,"button",57),e.EFF(95),e.nI1(96,"translate"),e.nI1(97,"translate"),e.k0s()()()()()()}if(2&i){const t=e.XpG();e.R7$(4),e.JRh(t.isEditing?"Edit User":"Add New User"),e.R7$(2),e.SpI(" ",t.isEditing?e.bMT(7,35,"USERS.EDIT_TITLE"):e.bMT(8,37,"USERS.ADD_TITLE")," "),e.R7$(12),e.JRh(e.bMT(19,39,"USERS.FORM.USERNAME_LABEL")),e.R7$(2),e.Y8G("placeholder",e.mNQ(e.bMT(21,41,"USERS.FORM.USERNAME_PLACEHOLDER"))),e.R50("ngModel",t.userForm.username),e.Y8G("disabled",t.isEditing),e.R7$(6),e.JRh(e.bMT(27,43,"USERS.FORM.EMAIL_LABEL")),e.R7$(2),e.Y8G("placeholder",e.mNQ(e.bMT(29,45,"USERS.FORM.EMAIL_PLACEHOLDER"))),e.R50("ngModel",t.userForm.email),e.R7$(7),e.JRh(e.bMT(36,47,"USERS.FORM.FIRST_NAME_LABEL")),e.R7$(2),e.Y8G("placeholder",e.mNQ(e.bMT(38,49,"USERS.FORM.FIRST_NAME_PLACEHOLDER"))),e.R50("ngModel",t.userForm.firstName),e.R7$(6),e.JRh(e.bMT(44,51,"USERS.FORM.LAST_NAME_LABEL")),e.R7$(2),e.Y8G("placeholder",e.mNQ(e.bMT(46,53,"USERS.FORM.LAST_NAME_PLACEHOLDER"))),e.R50("ngModel",t.userForm.lastName),e.R7$(7),e.JRh(e.bMT(53,55,"USERS.FORM.PHONE_LABEL")),e.R7$(2),e.Y8G("placeholder",e.mNQ(e.bMT(55,57,"USERS.FORM.PHONE_PLACEHOLDER"))),e.R50("ngModel",t.userForm.phone),e.R7$(6),e.JRh(e.bMT(61,59,"USERS.FORM.ROLE_LABEL")),e.R7$(2),e.R50("ngModel",t.userForm.role),e.R7$(10),e.SpI(" ",e.bMT(73,61,"USERS.ROLES.CASHIER")," "),e.R7$(3),e.SpI(" ",e.bMT(76,63,"USERS.ROLES.EMPLOYEE")," "),e.R7$(3),e.SpI(" ",e.bMT(79,65,"USERS.ROLES.MANAGER")," "),e.R7$(3),e.SpI(" ",e.bMT(82,67,"USERS.ROLES.ADMIN")," "),e.R7$(2),e.Y8G("ngIf",!t.isEditing),e.R7$(3),e.JRh(e.bMT(87,69,"USERS.FORM.ACTIVE_LABEL")),e.R7$(2),e.Y8G("checked",t.userForm.active||!1),e.R7$(),e.Y8G("ngIf","manager"===t.userForm.role&&"admin"===(null==t.currentUser?null:t.currentUser.role)),e.R7$(3),e.SpI(" ",e.bMT(93,71,"GLOBAL.CANCEL")," "),e.R7$(3),e.SpI(" ",t.isEditing?e.bMT(96,73,"USERS.ACTIONS.UPDATE"):e.bMT(97,75,"USERS.ACTIONS.CREATE")," ")}}let w=(()=>{class i{constructor(t,o,n,s,c,C){this.userService=t,this.authService=o,this.searchStateService=n,this.http=s,this.translation=c,this.toastService=C,this.currentUser=null,this.users=(0,r.vPA)([]),this.searchQuery=(0,r.vPA)(""),this.filteredUsers=(0,h.EW)(()=>{const d=this.searchQuery().toLowerCase().trim();return d?this.users().filter(u=>u.username?.toLowerCase().includes(d)||u.firstName?.toLowerCase().includes(d)||u.lastName?.toLowerCase().includes(d)||u.email?.toLowerCase().includes(d)||u.phone?.toLowerCase().includes(d)||u.role?.toLowerCase().includes(d)):this.users()}),this.showUserModal=!1,this.isEditing=!1,this.currentPage=(0,r.vPA)(1),this.pageSize=(0,r.vPA)(10),this.paginatedUsers=(0,h.EW)(()=>{const d=this.filteredUsers(),u=(this.currentPage()-1)*this.pageSize(),B=u+this.pageSize();return d.slice(u,B)}),this.totalPages=(0,h.EW)(()=>Math.ceil(this.filteredUsers().length/this.pageSize())),this.userForm={username:"",email:"",password:"",firstName:"",lastName:"",phone:"",role:"cashier",active:!0},this.destroy$=new b.B}ngOnInit(){this.currentUser=this.authService.getCurrentUser(),this.searchStateService.clearSearch(),this.loadUsers(),this.searchStateService.searchQuery$.pipe((0,E.i)(1),(0,g.Q)(this.destroy$)).subscribe(t=>this.searchQuery.set(t))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.searchStateService.clearSearch()}isAdmin(){return"admin"===this.currentUser?.role}loadUsers(){this.userService.getUsers().subscribe({next:t=>{this.users.set(t.data)},error:t=>console.error("Error loading users:",t)})}openUserModal(t){t?(this.isEditing=!0,this.userForm={id:t.id,username:t.username,email:t.email,firstName:t.firstName,lastName:t.lastName,phone:t.phone,role:t.role,active:t.active}):(this.isEditing=!1,this.userForm={username:"",email:"",password:"",firstName:"",lastName:"",phone:"",role:"cashier",active:!0}),this.showUserModal=!0}saveUser(){this.userForm.username&&this.userForm.email&&this.userForm.firstName&&this.userForm.lastName&&this.userForm.role?this.isEditing||this.userForm.password?this.isEditing&&this.userForm.id?this.userService.updateUser(this.userForm.id,this.userForm).subscribe({next:t=>{const o=this.users().findIndex(n=>n.id===t.id);if(-1!==o){const n=[...this.users()];n[o]=t,this.users.set(n)}this.showUserModal=!1},error:t=>console.error("Error updating user:",t)}):this.http.post(`${O.c.apiUrl}/auth/register`,this.userForm).subscribe({next:t=>{this.users.set([...this.users(),t]),this.showUserModal=!1},error:t=>console.error("Error creating user:",t)}):this.toastService.show(this.translation.translate("USERS.ALERTS.PASSWORD_REQUIRED"),"info"):this.toastService.show(this.translation.translate("USERS.ALERTS.FILL_REQUIRED"),"info")}nextPage(){this.currentPage()<this.totalPages()&&this.currentPage.set(this.currentPage()+1)}prevPage(){this.currentPage()>1&&this.currentPage.set(this.currentPage()-1)}goToPage(t){t>=1&&t<=this.totalPages()&&this.currentPage.set(t)}changePageSize(t){this.pageSize.set(t),this.currentPage.set(1)}getVisiblePages(){const t=this.currentPage(),o=this.totalPages(),s=[];if(o<=7)for(let c=1;c<=o;c++)s.push(c);else{s.push(1),t>4&&s.push(-1);const c=Math.max(2,t-2),C=Math.min(o-1,t+2);for(let d=c;d<=C;d++)s.push(d);t<o-2-1&&s.push(-1),s.push(o)}return s}deleteUser(t){this.isAdmin()?t!==this.currentUser?.id?confirm("Are you sure you want to delete this user?")&&this.userService.deleteUser(t).subscribe({next:()=>{this.users.set(this.users().filter(o=>o.id!==t))},error:o=>console.error("Error deleting user:",o)}):this.toastService.show("You cannot delete your own account","error"):this.toastService.show("Only administrators can delete users","error")}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(F.D),e.rXU(x.u),e.rXU(v.$),e.rXU(S.Qq),e.rXU(U.L),e.rXU(I.f))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-users"]],decls:55,vars:43,consts:[["title","User Management","description","Manage staff members and permissions","icon","fa-users"],[1,"header-actions"],[1,"row-count"],[1,"page-size-select",3,"ngModelChange","change","ngModel"],[3,"value"],[1,"btn-add",3,"click"],[1,"fas","fa-plus"],[1,"users-container"],[1,"users-table-wrapper","neumorphic-table","table-responsive"],[1,"users-table"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","pagination",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"role-badge"],[1,"status-badge"],[1,"action-buttons"],["title","Edit",1,"btn-edit",3,"click"],[1,"fas","fa-edit"],[1,"btn-delete",3,"click","disabled","title"],[1,"fas","fa-trash-alt"],["colspan","8",1,"empty-state"],[1,"pagination"],[1,"pagination-btn",3,"click","disabled"],[1,"fas","fa-chevron-left"],[1,"pagination-pages"],["class","pagination-page",3,"active","ellipsis","disabled","click",4,"ngFor","ngForOf"],[1,"fas","fa-chevron-right"],[1,"pagination-page",3,"click","disabled"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"btn-close",3,"click"],[1,"modal-body"],[3,"ngSubmit"],[1,"form-row"],[1,"form-group"],["for","username"],["type","text","id","username","name","username","required","","placeholder","johndoe",3,"ngModelChange","ngModel","placeholder","disabled"],["for","email"],["type","email","id","email","name","email","required","","placeholder","john@example.com",3,"ngModelChange","ngModel","placeholder"],["for","firstName"],["type","text","id","firstName","name","firstName","required","","placeholder","John",3,"ngModelChange","ngModel","placeholder"],["for","lastName"],["type","text","id","lastName","name","lastName","required","","placeholder","Doe",3,"ngModelChange","ngModel","placeholder"],["for","phone"],["type","tel","id","phone","name","phone","placeholder","+63 123 456 7890",3,"ngModelChange","ngModel","placeholder"],["for","role"],["id","role","name","role","required","",3,"ngModelChange","ngModel"],["value","cashier"],["value","employee"],["value","manager"],["value","admin"],["class","form-group",4,"ngIf"],[3,"change","checked"],[1,"form-actions"],["type","button",1,"btn-cancel",3,"click"],["type","submit",1,"btn-save"],["for","password"],["type","password","id","password","name","password","placeholder","Enter password",3,"ngModelChange","ngModel","required"],["for","internalSalesLimit"],["type","number","id","internalSalesLimit","name","internalSalesLimit","step","0.01","min","0",3,"ngModelChange","ngModel","placeholder"],[1,"form-hint"]],template:function(o,n){1&o&&(e.j41(0,"app-page-title",0)(1,"div",1)(2,"div",2)(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"select",3),e.mxI("ngModelChange",function(c){return e.DH7(n.pageSize,c)||(n.pageSize=c),c}),e.bIt("change",function(c){return n.changePageSize(+c.target.value)}),e.j41(7,"option",4),e.EFF(8,"5 per page"),e.k0s(),e.j41(9,"option",4),e.EFF(10,"10 per page"),e.k0s(),e.j41(11,"option",4),e.EFF(12,"25 per page"),e.k0s(),e.j41(13,"option",4),e.EFF(14,"50 per page"),e.k0s(),e.j41(15,"option",4),e.EFF(16,"100 per page"),e.k0s()()(),e.j41(17,"button",5),e.bIt("click",function(){return n.openUserModal()}),e.nrm(18,"i",6),e.EFF(19),e.nI1(20,"translate"),e.k0s()()(),e.j41(21,"div",7)(22,"div",8)(23,"table",9)(24,"thead")(25,"tr")(26,"th"),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"th"),e.EFF(30),e.nI1(31,"translate"),e.k0s(),e.j41(32,"th"),e.EFF(33),e.nI1(34,"translate"),e.k0s(),e.j41(35,"th"),e.EFF(36),e.nI1(37,"translate"),e.k0s(),e.j41(38,"th"),e.EFF(39),e.nI1(40,"translate"),e.k0s(),e.j41(41,"th"),e.EFF(42),e.nI1(43,"translate"),e.k0s(),e.j41(44,"th"),e.EFF(45),e.nI1(46,"translate"),e.k0s(),e.j41(47,"th"),e.EFF(48),e.nI1(49,"translate"),e.k0s()()(),e.j41(50,"tbody"),e.DNE(51,j,29,28,"tr",10)(52,k,6,3,"tr",11),e.k0s()(),e.DNE(53,A,9,3,"div",12),e.k0s(),e.DNE(54,y,98,77,"div",13),e.k0s()),2&o&&(e.R7$(4),e.JRh(e.i5U(5,20,"USERS.TOTAL",e.eq3(41,T,n.filteredUsers().length))),e.R7$(2),e.R50("ngModel",n.pageSize),e.R7$(),e.Y8G("value",5),e.R7$(2),e.Y8G("value",10),e.R7$(2),e.Y8G("value",25),e.R7$(2),e.Y8G("value",50),e.R7$(2),e.Y8G("value",100),e.R7$(4),e.SpI(" ",e.bMT(20,23,"USERS.ACTIONS.ADD")," "),e.R7$(8),e.JRh(e.bMT(28,25,"USERS.TABLE.USERNAME")),e.R7$(3),e.JRh(e.bMT(31,27,"USERS.TABLE.NAME")),e.R7$(3),e.JRh(e.bMT(34,29,"USERS.TABLE.EMAIL")),e.R7$(3),e.JRh(e.bMT(37,31,"USERS.TABLE.PHONE")),e.R7$(3),e.JRh(e.bMT(40,33,"USERS.TABLE.ROLE")),e.R7$(3),e.JRh(e.bMT(43,35,"USERS.TABLE.STATUS")),e.R7$(3),e.JRh(e.bMT(46,37,"USERS.TABLE.LAST_LOGIN")),e.R7$(3),e.JRh(e.bMT(49,39,"USERS.TABLE.ACTIONS")),e.R7$(3),e.Y8G("ngForOf",n.paginatedUsers()),e.R7$(),e.Y8G("ngIf",0===n.filteredUsers().length),e.R7$(),e.Y8G("ngIf",n.filteredUsers().length>0),e.R7$(),e.Y8G("ngIf",n.showUserModal))},dependencies:[_.MD,_.Sq,_.bT,l.YN,l.qT,l.xH,l.y7,l.me,l.Q0,l.wz,l.BC,l.cb,l.YS,l.VZ,l.vS,l.cV,p.j,f.C,_.PV,_.vh,R.D],styles:['@import"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap";.dark-theme[_ngcontent-%COMP%]{--neumorphic-bg: #1a1d24;--neumorphic-surface: #222831;--text-primary: #e5e7eb;--text-secondary: #9ca3af;--text-muted: #6b7280;--bg-primary: #1a1d24;--bg-secondary: #222831;--bg-tertiary: #2d3139;--bg-hover: #3a3f4b;--bg-active: #4a5161;--border-color: #3a3f4b;--card-bg: #222831;--input-bg: #2d3139;--sidebar-text: rgba(255, 255, 255, .7);--sidebar-text-active: #ffffff;--shadow-neumorphic: 6px 6px 12px rgba(0, 0, 0, .4), -6px -6px 12px rgba(255, 255, 255, .02);--shadow-neumorphic-sm: 3px 3px 6px rgba(0, 0, 0, .3), -3px -3px 6px rgba(255, 255, 255, .02);--shadow-neumorphic-lg: 9px 9px 16px rgba(0, 0, 0, .5), -9px -9px 16px rgba(255, 255, 255, .03);--shadow-neumorphic-inset: inset 3px 3px 6px rgba(0, 0, 0, .3), inset -3px -3px 6px rgba(255, 255, 255, .02);background-color:var(--bg-primary);color:var(--text-primary)}.users-container[_ngcontent-%COMP%]{padding:2rem;max-width:1400px;margin:0 auto;background:#ffffffd9;min-height:100%;border-radius:12px}.users-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1rem;border-bottom:2px solid #2d1674}.users-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#262626;font-size:2rem}.users-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.btn-add[_ngcontent-%COMP%]{padding:.75rem 1.5rem;background:#2d1674;color:#fff;border:none;border-radius:8px;cursor:pointer;font-size:.95rem;font-weight:600;display:flex;align-items:center;gap:.5rem;transition:all .3s ease}.btn-add[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.btn-add[_ngcontent-%COMP%]:hover{background:#1c0e49;transform:translateY(-2px);box-shadow:0 4px 12px #2d16744d}.users-table-wrapper[_ngcontent-%COMP%]{overflow-x:auto;border-radius:8px;box-shadow:0 2px 8px #0000001a}.users-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:#fff}.users-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#2d1674;color:#fff}.users-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1rem;text-align:left;font-weight:600;font-size:.95rem}.users-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #e0e0e0;transition:background-color .2s ease}.users-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f9f9f9}.users-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.users-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;font-size:.9rem;color:#262626}.users-table[_ngcontent-%COMP%]   .role-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .75rem;border-radius:12px;font-size:.85rem;font-weight:600}.users-table[_ngcontent-%COMP%]   .role-badge.role-admin[_ngcontent-%COMP%]{background:#9c27b0;color:#fff}.users-table[_ngcontent-%COMP%]   .role-badge.role-manager[_ngcontent-%COMP%]{background:#ff9800;color:#fff}.users-table[_ngcontent-%COMP%]   .role-badge.role-cashier[_ngcontent-%COMP%]{background:#2196f3;color:#fff}.users-table[_ngcontent-%COMP%]   .role-badge.role-employee[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.users-table[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .75rem;border-radius:12px;font-size:.85rem;font-weight:600}.users-table[_ngcontent-%COMP%]   .status-badge.active[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.users-table[_ngcontent-%COMP%]   .status-badge.inactive[_ngcontent-%COMP%]{background:#ff6b6b;color:#fff}.users-table[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}.users-table[_ngcontent-%COMP%]   .btn-edit[_ngcontent-%COMP%], .users-table[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]{padding:.5rem .75rem;border:none;background:transparent;cursor:pointer;font-size:1rem;transition:all .2s ease;border-radius:4px}.users-table[_ngcontent-%COMP%]   .btn-edit[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .users-table[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#2d1674}.users-table[_ngcontent-%COMP%]   .btn-edit[_ngcontent-%COMP%]:hover:not(:disabled), .users-table[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]:hover:not(:disabled){background:#2d16741a;transform:scale(1.1)}.users-table[_ngcontent-%COMP%]   .btn-edit[_ngcontent-%COMP%]:disabled, .users-table[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed}.users-table[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ff6b6b}.users-table[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]:hover:not(:disabled){background:#ff6b6b1a}.users-table[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:#8c8c8c;font-size:1rem}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1050}.modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:600px;max-height:90vh;overflow-y:auto;box-shadow:0 10px 40px #0003}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid #e0e0e0}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#262626;font-size:1.5rem}.modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:none;border:none;font-size:2rem;cursor:pointer;color:#8c8c8c;padding:0;width:2rem;height:2rem;display:flex;align-items:center;justify-content:center}.modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{color:#262626}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:.5rem;font-weight:600;color:#262626;font-size:.9rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #d0d0d0;border-radius:6px;font-size:.95rem;transition:border-color .2s ease}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2d1674}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:disabled{background:#f5f5f5;cursor:not-allowed}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;font-weight:500}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:1.2rem;height:1.2rem;cursor:pointer}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;margin-top:2rem;padding-top:1rem;border-top:1px solid #e0e0e0}.btn-cancel[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:6px;font-size:.95rem;font-weight:600;cursor:pointer;transition:all .2s ease}.btn-cancel[_ngcontent-%COMP%]{background:#f0f0f0;color:#262626}.btn-cancel[_ngcontent-%COMP%]:hover{background:#e0e0e0}.btn-save[_ngcontent-%COMP%]{background:#2d1674;color:#fff}.btn-save[_ngcontent-%COMP%]:hover{background:#1c0e49}@media(max-width:768px){.users-container[_ngcontent-%COMP%]{padding:1rem}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.row-count[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;color:#666;font-size:14px;font-weight:500}.page-size-select[_ngcontent-%COMP%]{padding:6px 10px;border:1px solid #ddd;border-radius:6px;font-size:14px;cursor:pointer;transition:all .3s ease}.page-size-select[_ngcontent-%COMP%]:hover{border-color:#2d1674}.page-size-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#2d1674;box-shadow:0 0 0 3px #2d16741a}.pagination[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px;margin-top:25px;padding-top:20px;border-top:1px solid #eee}.pagination-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px;border:1px solid #ddd;border-radius:6px;background:#fff;color:#333;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s ease}.pagination-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px}.pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#2d1674;color:#fff;border-color:#2d1674;transform:translateY(-2px);box-shadow:0 4px 12px #2d16744d}.pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.pagination-pages[_ngcontent-%COMP%]{display:flex;gap:5px}.pagination-page[_ngcontent-%COMP%]{min-width:36px;height:36px;padding:0 8px;border:1px solid #ddd;border-radius:6px;background:#fff;color:#333;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s ease}.pagination-page[_ngcontent-%COMP%]:hover:not(.active){background:#f5f5f5;border-color:#2d1674}.pagination-page.active[_ngcontent-%COMP%]{background:#2d1674;color:#fff;border-color:#2d1674;box-shadow:0 2px 8px #2d16744d}.pagination-page.ellipsis[_ngcontent-%COMP%]{border:none;background:transparent;cursor:default;opacity:.6}.pagination-page.ellipsis[_ngcontent-%COMP%]:hover{background:transparent;border:none}']})}}return i})()},7314:(P,M,a)=>{a.d(M,{D:()=>l});var r=a(5547),h=a(7705),_=a(6845);let l=(()=>{class b{constructor(g,p){this.t=g,this.cdr=p,this.t.translationsChanged$.subscribe(()=>{try{this.cdr.markForCheck()}catch{}})}transform(g,p){return this.t.translate(g,p)}static{this.\u0275fac=function(p){return new(p||b)(r.rXU(_.L,16),r.rXU(h.gRc,16))}}static{this.\u0275pipe=r.EJ8({name:"translate",type:b,pure:!1})}}return b})()},8397:(P,M,a)=>{a.d(M,{f:()=>_});var r=a(1413),h=a(375);let _=(()=>{class l{constructor(){this.subject=new r.B,this._id=0}show(E,g="info",p=2e3){const f={id:++this._id,message:E,type:g,duration:p};return this.subject.next(f),f.id}onToast(){return this.subject.asObservable()}static{this.\u0275fac=function(g){return new(g||l)}}static{this.\u0275prov=h.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})()}}]);