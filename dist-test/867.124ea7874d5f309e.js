"use strict";(self.webpackChunkretail_pos=self.webpackChunkretail_pos||[]).push([[867],{39:(x,P,c)=>{c.d(P,{h:()=>C});var a=c(4412),m=c(8141),O=c(5312),u=c(375),b=c(6175);let C=(()=>{class f{constructor(s){this.http=s,this.apiUrl=`${O.c.apiUrl}/registers`,this.currentRegisterSubject=new a.t(null),this.currentRegister$=this.currentRegisterSubject.asObservable(),this.loadCurrentRegister()}loadCurrentRegister(){localStorage.getItem("currentRegisterId")&&this.getActiveRegister().subscribe({next:d=>{d?this.currentRegisterSubject.next(d):localStorage.removeItem("currentRegisterId")},error:d=>{console.error("Error loading register from database:",d),localStorage.removeItem("currentRegisterId")}})}getCurrentRegister(){return this.currentRegisterSubject.value}openRegister(s,d){return this.http.post(`${this.apiUrl}/open`,{openingCash:s,registerNumber:d}).pipe((0,m.M)(t=>{this.currentRegisterSubject.next(t),t._id&&localStorage.setItem("currentRegisterId",t._id)}))}closeRegister(s,d,t){return this.http.post(`${this.apiUrl}/${s}/close`,{closingCash:d,notes:t}).pipe((0,m.M)(_=>{this.currentRegisterSubject.next(null),localStorage.removeItem("currentRegisterId")}))}getActiveRegister(){return this.http.get(`${this.apiUrl}/active`).pipe((0,m.M)(s=>{s&&(this.currentRegisterSubject.next(s),s._id&&localStorage.setItem("currentRegisterId",s._id))}))}getRegisterHistory(s,d){let t=`${this.apiUrl}/history`;const _=new URLSearchParams;return s&&_.append("startDate",s.toISOString()),d&&_.append("endDate",d.toISOString()),_.toString()&&(t+=`?${_.toString()}`),this.http.get(t)}getRegisterById(s){return this.http.get(`${this.apiUrl}/${s}`)}deleteRegister(s){return this.http.delete(`${this.apiUrl}/${s}`)}getExpectedCash(){return this.http.get(`${this.apiUrl}/active/expected-cash`)}recordWithdrawal(s,d,t){return this.http.post(`${this.apiUrl}/${s}/withdraw`,{amount:d,reason:t})}static{this.\u0275fac=function(d){return new(d||f)(u.KVO(b.Qq))}}static{this.\u0275prov=u.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})()},119:(x,P,c)=>{c.d(P,{o:()=>O});var a=c(5547),m=c(497);let O=(()=>{class u{constructor(C){this.currencyService=C}transform(C,f=2){return null==C||isNaN(C)?`${this.currencyService.getSymbol()}0.00`:this.currencyService.format(C,f)}static{this.\u0275fac=function(f){return new(f||u)(a.rXU(m.P,16))}}static{this.\u0275pipe=a.EJ8({name:"appCurrency",type:u,pure:!1})}}return u})()},1867:(x,P,c)=>{c.d(P,{LayoutComponent:()=>mt});var a=c(375),m=c(9769),O=c(4341),u=c(3036),b=c(3049),C=c(5964),f=c(1413),i=c(6977),s=c(7314),d=c(119),t=c(5547),_=c(8397);function w(o,h){1&o&&t.nrm(0,"i",10)}function I(o,h){1&o&&t.nrm(0,"i",11)}function E(o,h){1&o&&t.nrm(0,"i",12)}function S(o,h){if(1&o){const n=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"span",4),t.DNE(3,w,1,0,"i",5)(4,I,1,0,"i",6)(5,E,1,0,"i",7),t.k0s(),t.j41(6,"div",8),t.EFF(7),t.k0s(),t.j41(8,"button",9),t.bIt("click",function(){const e=a.eBV(n).$implicit,g=t.XpG();return a.Njj(g.remove(e.id))}),t.EFF(9,"\u2715"),t.k0s()()()}if(2&o){const n=h.$implicit;t.AVh("error","error"===n.type)("success","success"===n.type)("info","info"===n.type),t.R7$(3),t.Y8G("ngIf","success"===n.type),t.R7$(),t.Y8G("ngIf","error"===n.type),t.R7$(),t.Y8G("ngIf","info"===n.type),t.R7$(2),t.JRh(n.message)}}let y=(()=>{class o{constructor(n){this.toastService=n,this.toasts=[]}ngOnInit(){this.toastService.onToast().subscribe(n=>{this.toasts.push(n),setTimeout(()=>this.remove(n.id),n.duration??2e3)})}remove(n){this.toasts=this.toasts.filter(r=>r.id!==n)}static{this.\u0275fac=function(r){return new(r||o)(t.rXU(_.f))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-toast"]],decls:2,vars:1,consts:[[1,"toast-container"],["class","toast",3,"error","success","info",4,"ngFor","ngForOf"],[1,"toast"],[1,"toast-inner"],["aria-hidden","true",1,"toast-icon"],["class","fas fa-check-circle",4,"ngIf"],["class","fas fa-times-circle",4,"ngIf"],["class","fas fa-info-circle",4,"ngIf"],[1,"toast-message"],[1,"toast-close",3,"click"],[1,"fas","fa-check-circle"],[1,"fas","fa-times-circle"],[1,"fas","fa-info-circle"]],template:function(r,e){1&r&&(t.j41(0,"div",0),t.DNE(1,S,10,10,"div",1),t.k0s()),2&r&&(t.R7$(),t.Y8G("ngForOf",e.toasts))},dependencies:[m.MD,m.Sq,m.bT],styles:[".toast-container[_ngcontent-%COMP%]{position:fixed;top:12px;left:50%;transform:translate(-50%);z-index:140000!important;display:flex;flex-direction:column;gap:8px;pointer-events:none}.toast[_ngcontent-%COMP%]{pointer-events:auto;min-width:220px}.toast-inner[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem .75rem;border-radius:999px;background:#000000d9;color:#fff;box-shadow:0 6px 18px #0003;font-weight:600}.toast.error[_ngcontent-%COMP%]   .toast-inner[_ngcontent-%COMP%]{background:#c53030}.toast.success[_ngcontent-%COMP%]   .toast-inner[_ngcontent-%COMP%]{background:#2f855a}.toast.info[_ngcontent-%COMP%]   .toast-inner[_ngcontent-%COMP%]{background:#2b6cb0}.toast-icon[_ngcontent-%COMP%]{width:20px;display:inline-flex;align-items:center;justify-content:center;font-size:1rem}.toast-message[_ngcontent-%COMP%]{flex:1}.toast-close[_ngcontent-%COMP%]{border:none;background:transparent;color:#fff;cursor:pointer;opacity:.9}"]})}}return o})();var T=c(2005),k=c(152),L=c(3294),A=c(6241),D=c(6868),j=c(4078);const G=["globalSearchInput"];function F(o,h){if(1&o){const n=t.RV6();t.j41(0,"i",6),t.bIt("click",function(){a.eBV(n);const e=t.XpG();return a.Njj(e.searchQuery="")}),t.k0s()}}let $=(()=>{class o{constructor(n,r,e,g,l){this.productService=n,this.cartService=r,this.searchStateService=e,this.router=g,this.toastService=l,this.searchQuery="",this.searchSubject=new f.B,this.destroy$=new f.B}ngOnInit(){this.searchSubject.pipe((0,k.B)(300),(0,L.F)(),(0,i.Q)(this.destroy$)).subscribe(n=>{this.performSearch(n)}),this.searchStateService.searchQuery$.pipe((0,i.Q)(this.destroy$)).subscribe(n=>{n!==this.searchQuery&&(this.searchQuery=n)}),this.router.events.pipe((0,i.Q)(this.destroy$)).subscribe(n=>{n instanceof u.wF&&setTimeout(()=>{try{const r=this.globalSearchInput?.nativeElement;r&&(r.focus(),r.select())}catch{}},80)}),setTimeout(()=>{try{const n=this.globalSearchInput?.nativeElement;n&&(n.focus(),n.select())}catch{}},80)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearchChange(n){this.searchQuery=n,this.searchSubject.next(n)}onSearchKeyPress(n){"Enter"===n.key&&(console.log("Enter key pressed in global search"),n.preventDefault(),this.handleEnterSearch(this.searchQuery),setTimeout(()=>{this.globalSearchInput?.nativeElement?.select()},50))}handleEnterSearch(n){if(!n||0===n.trim().length)return;console.log("Handling search for query:",n);const r=n.trim();return/^SALE(-|\/)[0-9A-F]{8}$/i.test(r)?(this.router.navigate(["/sales"]).then(()=>{this.searchStateService.setSearchQuery(r)}),void(this.searchQuery="")):/^PROV(-|\/)[0-9A-F]{4}$/i.test(r)?(this.router.navigate(["/providers"]).then(()=>{this.searchStateService.setSearchQuery(r)}),void(this.searchQuery="")):void(/^\d+$/.test(r)||r.length>=8&&r.length<=14?(console.log("Searching for product by barcode:",r),this.productService.getProductByBarcode(r).subscribe({next:p=>{this.router.url.startsWith("/pos")?(this.cartService.addItem(p),this.toastService.show(`${p.name} added to cart`,"success"),this.searchQuery=""):this.router.url.startsWith("/inventory")?(this.searchStateService.setSearchQuery(r),this.searchQuery=""):(this.router.navigate(["/pos"],{state:{selectedProduct:p}}),this.searchQuery="")},error:p=>{console.log("Barcode not found, performing regular search"),this.performSearch(r)}})):this.performSearch(r))}performSearch(n){this.searchStateService.setSearchQuery(n)}onProductSelected(n){this.router.navigate(["/pos"],{state:{selectedProduct:n}}),this.searchQuery=""}onDocumentClick(n){}static{this.\u0275fac=function(r){return new(r||o)(t.rXU(A.b),t.rXU(D.m),t.rXU(j.$),t.rXU(u.Ix),t.rXU(_.f))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-global-search"]],viewQuery:function(r,e){if(1&r&&t.GBs(G,5),2&r){let g;t.mGM(g=t.lsd())&&(e.globalSearchInput=g.first)}},hostBindings:function(r,e){1&r&&t.bIt("click",function(l){return e.onDocumentClick(l)},t.EBC)},decls:6,vars:2,consts:[["globalSearchInput",""],[1,"global-search"],[1,"search-wrapper"],[1,"fas","fa-search","search-icon"],["type","text","placeholder","Search products, sales, providers...",1,"search-input",3,"ngModelChange","input","keypress","ngModel"],["class","fas fa-times clear-icon",3,"click",4,"ngIf"],[1,"fas","fa-times","clear-icon",3,"click"]],template:function(r,e){if(1&r){const g=t.RV6();t.j41(0,"div",1)(1,"div",2),t.nrm(2,"i",3),t.j41(3,"input",4,0),t.mxI("ngModelChange",function(p){return a.eBV(g),t.DH7(e.searchQuery,p)||(e.searchQuery=p),a.Njj(p)}),t.bIt("input",function(){return a.eBV(g),a.Njj(e.onSearchChange(e.searchQuery))})("keypress",function(p){return a.eBV(g),a.Njj(e.onSearchKeyPress(p))}),t.k0s(),t.DNE(5,F,1,0,"i",5),t.k0s()()}2&r&&(t.R7$(3),t.R50("ngModel",e.searchQuery),t.R7$(2),t.Y8G("ngIf",e.searchQuery))},dependencies:[m.MD,m.bT,O.YN,O.me,O.BC,O.vS],styles:['@import"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap";.dark-theme[_ngcontent-%COMP%]{--neumorphic-bg: #1a1d24;--neumorphic-surface: #222831;--text-primary: #e5e7eb;--text-secondary: #9ca3af;--text-muted: #6b7280;--bg-primary: #1a1d24;--bg-secondary: #222831;--bg-tertiary: #2d3139;--bg-hover: #3a3f4b;--bg-active: #4a5161;--border-color: #3a3f4b;--card-bg: #222831;--input-bg: #2d3139;--sidebar-text: rgba(255, 255, 255, .7);--sidebar-text-active: #ffffff;--shadow-neumorphic: 6px 6px 12px rgba(0, 0, 0, .4), -6px -6px 12px rgba(255, 255, 255, .02);--shadow-neumorphic-sm: 3px 3px 6px rgba(0, 0, 0, .3), -3px -3px 6px rgba(255, 255, 255, .02);--shadow-neumorphic-lg: 9px 9px 16px rgba(0, 0, 0, .5), -9px -9px 16px rgba(255, 255, 255, .03);--shadow-neumorphic-inset: inset 3px 3px 6px rgba(0, 0, 0, .3), inset -3px -3px 6px rgba(255, 255, 255, .02);background-color:var(--bg-primary);color:var(--text-primary)}.global-search[_ngcontent-%COMP%]{position:relative;flex:1;width:500px}.global-search[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;background:#fff;border-radius:9999px;box-shadow:0 2px 4px #00000005;transition:.2s ease}.global-search[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]:focus-within{box-shadow:0 0 0 3px #2d16741a}.global-search[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;color:#9ca3af;font-size:1rem;pointer-events:none}.global-search[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;padding:.5rem 1rem;border:1px solid rgba(0,0,0,.08);border-radius:16px;font-size:.95rem;background:#fff;color:#262626;outline:none;transition:.2s ease;min-height:40px;box-shadow:0 2px 4px #00000005}.global-search[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.global-search[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #2d16741a}.global-search[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{padding-left:3rem;padding-right:2.5rem;font-size:.95rem;border-radius:9999px}.global-search[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:#8c8c8c}.global-search[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]   .clear-icon[_ngcontent-%COMP%]{position:absolute;right:1rem;color:#595959;font-size:1rem;cursor:pointer;transition:.15s ease;padding:.5rem}.global-search[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]   .clear-icon[_ngcontent-%COMP%]:hover{color:#262626}@media(max-width:768px){.global-search[_ngcontent-%COMP%]{max-width:100%}.global-search[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{font-size:.875rem}}']})}}return o})();var U=c(8659),B=c(4796),N=c(6845),W=c(39),z=c(9885),H=c(487);function Y(o,h){1&o&&t.eu8(0)}function V(o,h){if(1&o&&(t.qex(0),t.DNE(1,Y,1,0,"ng-container",70),t.bVm()),2&o){const n=t.XpG();t.R7$(),t.Y8G("ngTemplateOutlet",n.pageActions)}}function X(o,h){if(1&o){const n=t.RV6();t.j41(0,"button",86),t.bIt("click",function(){a.eBV(n);const e=t.XpG(2);return a.Njj(e.manageRegister())}),t.nrm(1,"i",34),t.j41(2,"span"),t.EFF(3),t.nI1(4,"translate"),t.k0s()()}if(2&o){const n=t.XpG(2);t.R7$(3),t.JRh(t.bMT(4,1,n.currentRegister?"REGISTER.CLOSE":"REGISTER.OPEN"))}}function Q(o,h){if(1&o){const n=t.RV6();t.j41(0,"button",86),t.bIt("click",function(){a.eBV(n);const e=t.XpG(2);return a.Njj(e.openWithdrawModal())}),t.nrm(1,"i",90),t.j41(2,"span"),t.EFF(3),t.nI1(4,"translate"),t.k0s()()}2&o&&(t.R7$(3),t.JRh(t.bMT(4,1,"GLOBAL.WITHDRAW_CASH")))}function J(o,h){if(1&o){const n=t.RV6();t.j41(0,"div",71),t.bIt("click",function(e){return a.eBV(n),a.Njj(e.stopPropagation())}),t.j41(1,"div",72)(2,"div",73),t.EFF(3),t.nI1(4,"translate"),t.j41(5,"span",74),t.EFF(6),t.nI1(7,"translate"),t.k0s()()(),t.j41(8,"div",75)(9,"div",76),t.EFF(10),t.nI1(11,"translate"),t.k0s(),t.j41(12,"div",77)(13,"button",78),t.bIt("click",function(){a.eBV(n);const e=t.XpG();return a.Njj(e.setLanguage("en"))}),t.j41(14,"span",79),t.EFF(15),t.nI1(16,"translate"),t.k0s()(),t.j41(17,"button",78),t.bIt("click",function(){a.eBV(n);const e=t.XpG();return a.Njj(e.setLanguage("es"))}),t.j41(18,"span",79),t.EFF(19),t.nI1(20,"translate"),t.k0s()()()(),t.j41(21,"div",80)(22,"div",76),t.EFF(23),t.nI1(24,"translate"),t.k0s(),t.j41(25,"button",81),t.bIt("click",function(){a.eBV(n);const e=t.XpG();return a.Njj(e.toggleTheme())}),t.j41(26,"span",82),t.EFF(27),t.k0s(),t.j41(28,"span",83),t.EFF(29),t.nI1(30,"translate"),t.k0s()()(),t.nrm(31,"div",84),t.DNE(32,X,5,3,"button",85)(33,Q,5,3,"button",85),t.j41(34,"button",86),t.bIt("click",function(){a.eBV(n);const e=t.XpG();return a.Njj(e.navigateToSettings())}),t.nrm(35,"i",87),t.j41(36,"span"),t.EFF(37),t.nI1(38,"translate"),t.k0s()(),t.j41(39,"button",88),t.bIt("click",function(){a.eBV(n);const e=t.XpG();return a.Njj(e.logout())}),t.nrm(40,"i",89),t.j41(41,"span"),t.EFF(42),t.nI1(43,"translate"),t.k0s()()()}if(2&o){const n=t.XpG();t.R7$(3),t.SpI(" ",(null==n.currentUser?null:n.currentUser.firstName)||t.bMT(4,16,"GLOBAL.USER")," "),t.R7$(3),t.JRh((null==n.currentUser?null:n.currentUser.role)||t.bMT(7,18,"GLOBAL.EMPLOYEE")),t.R7$(4),t.SpI(" ",t.bMT(11,20,"GLOBAL.LANGUAGE")," "),t.R7$(3),t.AVh("lang-active","en"===n.currentLang),t.R7$(2),t.JRh(t.bMT(16,22,"GLOBAL.ENGLISH")),t.R7$(2),t.AVh("lang-active","es"===n.currentLang),t.R7$(2),t.JRh(t.bMT(20,24,"GLOBAL.SPANISH")),t.R7$(4),t.SpI(" ",t.bMT(24,26,"GLOBAL.THEME.LABEL")," "),t.R7$(4),t.JRh(n.isDarkMode?"\u{1f319}":"\u2600\ufe0f"),t.R7$(2),t.JRh(t.bMT(30,28,n.isDarkMode?"GLOBAL.THEME.DARK_MODE":"GLOBAL.THEME.LIGHT_MODE")),t.R7$(3),t.Y8G("ngIf","cashier"===(null==n.currentUser?null:n.currentUser.role)||"manager"===(null==n.currentUser?null:n.currentUser.role)||"admin"===(null==n.currentUser?null:n.currentUser.role)),t.R7$(),t.Y8G("ngIf","admin"===(null==n.currentUser?null:n.currentUser.role)&&n.currentRegister),t.R7$(4),t.JRh(t.bMT(38,30,"GLOBAL.SETTINGS")),t.R7$(5),t.JRh(t.bMT(43,32,"GLOBAL.LOGOUT"))}}function K(o,h){1&o&&(t.j41(0,"button",91),t.nrm(1,"i",92),t.j41(2,"span"),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&o&&(t.R7$(3),t.JRh(t.bMT(4,1,"GLOBAL.SIDEBAR.DASHBOARD")))}function Z(o,h){1&o&&(t.j41(0,"button",93),t.nrm(1,"i",94),t.j41(2,"span"),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&o&&(t.R7$(3),t.JRh(t.bMT(4,1,"GLOBAL.SIDEBAR.STATISTICS")))}function q(o,h){1&o&&(t.j41(0,"button",95),t.nrm(1,"i",96),t.j41(2,"span"),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&o&&(t.R7$(3),t.JRh(t.bMT(4,1,"GLOBAL.SIDEBAR.SUPPLIERS")))}function tt(o,h){1&o&&(t.j41(0,"button",97),t.nrm(1,"i",98),t.j41(2,"span"),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&o&&(t.R7$(3),t.JRh(t.bMT(4,1,"GLOBAL.SIDEBAR.SALES")))}function nt(o,h){1&o&&(t.j41(0,"button",99),t.nrm(1,"i",34),t.j41(2,"span"),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&o&&(t.R7$(3),t.JRh(t.bMT(4,1,"GLOBAL.SIDEBAR.REGISTERS")))}function et(o,h){1&o&&(t.j41(0,"button",100),t.nrm(1,"i",101),t.j41(2,"span"),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&o&&(t.R7$(3),t.JRh(t.bMT(4,1,"GLOBAL.SIDEBAR.USERS")))}function ot(o,h){if(1&o&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.nI1(3,"number"),t.nI1(4,"translate"),t.k0s()),2&o){const n=t.XpG(2);t.R7$(),t.E5c(" ",t.bMT(2,3,"REGISTER.AUTO_CLOSE_WARNING")," (",t.i5U(3,5,n.getRegisterDurationHours(),"1.1-1")," ",t.bMT(4,8,"REGISTER.HOURS"),") ")}}function rt(o,h){1&o&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&o&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"REGISTER.AUTO_CLOSE_CRITICAL")," "))}function at(o,h){if(1&o){const n=t.RV6();t.j41(0,"div",102),t.nrm(1,"i",103),t.DNE(2,ot,5,10,"span",20)(3,rt,3,3,"span",20),t.j41(4,"button",104),t.bIt("click",function(){a.eBV(n);const e=t.XpG();return a.Njj(e.manageRegister())}),t.EFF(5),t.nI1(6,"translate"),t.k0s()()}if(2&o){const n=t.XpG();t.AVh("critical",n.isRegisterOverdue()),t.R7$(2),t.Y8G("ngIf",!n.isRegisterOverdue()),t.R7$(),t.Y8G("ngIf",n.isRegisterOverdue()),t.R7$(2),t.SpI(" ",t.bMT(6,5,"REGISTER.CLOSE_NOW")," ")}}function st(o,h){if(1&o){const n=t.RV6();t.j41(0,"div",105)(1,"h4"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"div",52)(5,"label"),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.nrm(8,"input",106,4),t.k0s(),t.j41(10,"div",52)(11,"label"),t.EFF(12),t.nI1(13,"translate"),t.k0s(),t.nrm(14,"input",107,5),t.k0s(),t.j41(16,"button",55),t.bIt("click",function(){a.eBV(n);const e=t.sdS(9),g=t.sdS(15),l=t.XpG();return a.Njj(l.openRegister(e.value,g.value))}),t.nrm(17,"i",108),t.EFF(18),t.nI1(19,"translate"),t.k0s()()}if(2&o){const n=t.XpG();t.R7$(2),t.JRh(t.bMT(3,6,"REGISTER.MODAL_TITLE_OPEN")),t.R7$(4),t.JRh(t.bMT(7,8,"REGISTER.REGISTER_NUMBER")),t.R7$(2),t.Y8G("value",t.VkB("REG-",(null==n.currentUser?null:n.currentUser.username)||"MAIN")),t.R7$(4),t.JRh(t.bMT(13,10,"REGISTER.OPENING_CASH")),t.R7$(6),t.SpI(" ",t.bMT(19,12,"REGISTER.OPEN")," ")}}function it(o,h){if(1&o&&(t.j41(0,"div",116)(1,"span",117),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"span",125),t.EFF(5),t.nI1(6,"appCurrency"),t.k0s()()),2&o){const n=t.XpG(3);t.R7$(2),t.SpI("",t.bMT(3,2,"REGISTER.WITHDRAWALS"),":"),t.R7$(3),t.SpI("-",t.bMT(6,4,n.expectedCashData().totalWithdrawals))}}function ct(o,h){if(1&o&&(t.j41(0,"div",113)(1,"div",114),t.nrm(2,"i",36),t.j41(3,"h5"),t.EFF(4),t.nI1(5,"translate"),t.k0s()(),t.j41(6,"div",115)(7,"div",116)(8,"span",117),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.j41(11,"span",118),t.EFF(12),t.nI1(13,"appCurrency"),t.k0s()(),t.j41(14,"div",116)(15,"span",117),t.EFF(16),t.nI1(17,"translate"),t.k0s(),t.j41(18,"span",119),t.EFF(19),t.nI1(20,"appCurrency"),t.k0s()(),t.DNE(21,it,7,6,"div",120),t.j41(22,"div",121)(23,"span",117)(24,"strong"),t.EFF(25),t.nI1(26,"translate"),t.k0s()(),t.j41(27,"span",118)(28,"strong"),t.EFF(29),t.nI1(30,"appCurrency"),t.k0s()()(),t.j41(31,"div",122)(32,"span"),t.nrm(33,"i",123),t.EFF(34),t.nI1(35,"translate"),t.k0s(),t.j41(36,"span"),t.nrm(37,"i",124),t.EFF(38),t.nI1(39,"appCurrency"),t.nI1(40,"translate"),t.k0s()()()()),2&o){const n=t.XpG(2);t.R7$(4),t.JRh(t.bMT(5,12,"REGISTER.EXPECTED_CLOSING")),t.R7$(5),t.SpI("",t.bMT(10,14,"REGISTER.OPENING_CASH"),":"),t.R7$(3),t.JRh(t.bMT(13,16,n.expectedCashData().openingCash)),t.R7$(4),t.SpI("",t.bMT(17,18,"REGISTER.CASH_SALES_TODAY"),":"),t.R7$(3),t.SpI("+",t.bMT(20,20,n.expectedCashData().totalCashSales)),t.R7$(2),t.Y8G("ngIf",n.expectedCashData().totalWithdrawals),t.R7$(4),t.SpI("",t.bMT(26,22,"REGISTER.EXPECTED_CASH"),":"),t.R7$(4),t.JRh(t.bMT(30,24,n.expectedCashData().expectedCash)),t.R7$(5),t.Lme(" ",n.expectedCashData().totalTransactions," ",t.bMT(35,26,"REGISTER.TRANSACTIONS")),t.R7$(4),t.Lme(" ",t.bMT(39,28,n.expectedCashData().totalSales)," ",t.bMT(40,30,"REGISTER.TOTAL_SALES"))}}function gt(o,h){1&o&&(t.j41(0,"div",126),t.nrm(1,"i",127),t.EFF(2),t.nI1(3,"translate"),t.k0s()),2&o&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"REGISTER.CALCULATING")," "))}function dt(o,h){1&o&&(t.j41(0,"div",128),t.nrm(1,"i",129),t.j41(2,"p"),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&o&&(t.R7$(3),t.JRh(t.bMT(4,1,"REGISTER.PERMISSION_NOTICE")))}function lt(o,h){if(1&o){const n=t.RV6();t.j41(0,"div")(1,"div",52)(2,"label"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.nrm(5,"input",130,6),t.nI1(7,"appCurrency"),t.k0s(),t.j41(8,"div",52)(9,"label"),t.EFF(10),t.nI1(11,"translate"),t.k0s(),t.nrm(12,"textarea",131,7),t.k0s(),t.j41(14,"button",132),t.bIt("click",function(){a.eBV(n);const e=t.sdS(6),g=t.sdS(13),l=t.XpG(2);return a.Njj(l.closeRegister(e.value,g.value))}),t.nrm(15,"i",133),t.EFF(16),t.nI1(17,"translate"),t.k0s()()}if(2&o){const n=t.XpG(2);t.R7$(3),t.JRh(t.bMT(4,4,"REGISTER.CLOSING_CASH")),t.R7$(2),t.Y8G("placeholder",n.expectedCashData()?t.bMT(7,6,n.expectedCashData().expectedCash):"0.00"),t.R7$(5),t.JRh(t.bMT(11,8,"REGISTER.NOTES")),t.R7$(6),t.SpI(" ",t.bMT(17,10,"REGISTER.CLOSE")," ")}}function pt(o,h){if(1&o&&(t.j41(0,"div",105)(1,"h4"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"div",109)(5,"p")(6,"strong"),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.EFF(9),t.nI1(10,"date"),t.k0s(),t.j41(11,"p")(12,"strong"),t.EFF(13),t.nI1(14,"translate"),t.k0s(),t.EFF(15),t.nI1(16,"appCurrency"),t.k0s()(),t.DNE(17,ct,41,32,"div",110)(18,gt,4,3,"div",111)(19,dt,5,3,"div",112)(20,lt,18,12,"div",20),t.k0s()),2&o){const n=t.XpG();t.R7$(2),t.JRh(t.bMT(3,9,"REGISTER.MODAL_TITLE_CLOSE")),t.R7$(5),t.SpI("",t.bMT(8,11,"REGISTER.OPENED_AT"),":"),t.R7$(2),t.SpI(" ",t.i5U(10,13,n.currentRegister.openedAt,"short")," "),t.R7$(4),t.SpI("",t.bMT(14,16,"REGISTER.OPENING_AMOUNT"),":"),t.R7$(2),t.SpI(" ",t.bMT(16,18,n.currentRegister.openingCash)," "),t.R7$(2),t.Y8G("ngIf",!n.loadingExpectedCash()&&n.expectedCashData()),t.R7$(),t.Y8G("ngIf",n.loadingExpectedCash()),t.R7$(),t.Y8G("ngIf","admin"!==(null==n.currentUser?null:n.currentUser.role)&&"manager"!==(null==n.currentUser?null:n.currentUser.role)),t.R7$(),t.Y8G("ngIf","admin"===(null==n.currentUser?null:n.currentUser.role)||"manager"===(null==n.currentUser?null:n.currentUser.role))}}function ht(o,h){if(1&o&&(t.j41(0,"div",134)(1,"div",135)(2,"span",117),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"span",118),t.EFF(6),t.nI1(7,"appCurrency"),t.k0s()()()),2&o){const n=t.XpG();t.R7$(3),t.SpI("",t.bMT(4,2,"WITHDRAW.CURRENT_CASH"),":"),t.R7$(3),t.JRh(t.bMT(7,4,n.expectedCashData().expectedCash))}}function _t(o,h){1&o&&t.nrm(0,"i",127)}function ut(o,h){1&o&&t.nrm(0,"i",90)}let mt=(()=>{class o{get isAdminOrManager(){return"admin"===this.currentUser?.role||"manager"===this.currentUser?.role}get isAdmin(){return"admin"===this.currentUser?.role}constructor(n,r,e,g,l,p,M){this.authService=n,this.router=r,this.translation=e,this.toastService=g,this.registerService=l,this.userService=p,this.themeService=M,this.currentUser=null,this.currentRegister=null,this.showUserDropdown=!1,this.showRegisterModal=!1,this.showSwitchUserModal=!1,this.showWithdrawModal=!1,this.withdrawProcessing=!1,this.destroy$=new f.B,this.currentLang="en",this.mobileSidebarOpen=!1,this.isDarkMode=!1,this.pageTitle="",this.pageIcon="",this.pageActions=null,this.routeTitleMap={"/pos":{title:"GLOBAL.SIDEBAR.POS",icon:"fa-cash-register"},"/dashboard":{title:"GLOBAL.SIDEBAR.DASHBOARD",icon:"fa-tachometer-alt"},"/cashier":{title:"GLOBAL.SIDEBAR.QUICK_CASHIER",icon:"fa-calculator"},"/statistics":{title:"GLOBAL.SIDEBAR.STATISTICS",icon:"fa-chart-bar"},"/inventory":{title:"GLOBAL.SIDEBAR.INVENTORY",icon:"fa-boxes"},"/categories":{title:"GLOBAL.SIDEBAR.CATEGORIES",icon:"fa-tags"},"/providers":{title:"GLOBAL.SIDEBAR.SUPPLIERS",icon:"fa-truck"},"/sales":{title:"GLOBAL.SIDEBAR.SALES",icon:"fa-receipt"},"/registers":{title:"GLOBAL.SIDEBAR.REGISTERS",icon:"fa-cash-register"},"/users":{title:"GLOBAL.SIDEBAR.USERS",icon:"fa-users"},"/templates":{title:"GLOBAL.SIDEBAR.RECEIPT_TEMPLATES",icon:"fa-file-alt"},"/settings":{title:"SETTINGS.TITLE",icon:"fa-cog"},"/inventory-session":{title:"INVENTORY_SESSION.TITLE",icon:"fa-clipboard-list"}},this.expectedCashData=(0,a.vPA)(null),this.loadingExpectedCash=(0,a.vPA)(!1)}ngOnInit(){this.currentUser=this.authService.getCurrentUser(),this.currentLang=this.translation.current||"en",this.translation.currentLanguage$.pipe((0,i.Q)(this.destroy$)).subscribe(n=>{this.currentLang=n,this.updatePageTitle(this.router.url)}),this.themeService.isDarkMode$.pipe((0,i.Q)(this.destroy$)).subscribe(n=>this.isDarkMode=n),this.registerService.currentRegister$.pipe((0,i.Q)(this.destroy$)).subscribe(n=>{const r=!!this.currentRegister,e=!!n;this.currentRegister=n,!r&&e?this.loadExpectedCash():e||this.expectedCashData.set(null)}),this.registerService.getActiveRegister().subscribe(n=>{n&&this.loadExpectedCash()}),setInterval(()=>{this.currentRegister&&!this.loadingExpectedCash()&&this.loadExpectedCash()},6e4),this.router.events.pipe((0,C.p)(n=>n instanceof u.wF),(0,i.Q)(this.destroy$)).subscribe(n=>{this.mobileSidebarOpen=!1,this.updatePageTitle(n.urlAfterRedirects)}),this.updatePageTitle(this.router.url)}updatePageTitle(n){const r=n.split("?")[0].split("#")[0],e=this.routeTitleMap[r];e?(this.pageTitle=this.translation.translate(e.title),this.pageIcon=e.icon):(this.pageTitle="",this.pageIcon="")}toggleSidebar(){this.mobileSidebarOpen=!this.mobileSidebarOpen}closeSidebar(){this.mobileSidebarOpen=!1}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onDocumentClick(n){const r=n.target,e=r.closest(".user-info"),g=r.closest(".sidebar"),l=r.closest(".mobile-sidebar-toggle");!e&&this.showUserDropdown&&(this.showUserDropdown=!1),!g&&!l&&this.mobileSidebarOpen&&(this.mobileSidebarOpen=!1)}toggleUserDropdown(){this.showUserDropdown=!this.showUserDropdown}navigateToSettings(){this.showUserDropdown=!1,this.router.navigate(["/settings"])}setLanguage(n){this.translation.setLanguage(n),this.userService.updateUserSettings({language:n}).subscribe({next:()=>{console.log("Language preference saved to database")},error:r=>{console.error("Failed to save language preference:",r)}})}toggleTheme(){this.themeService.toggleTheme()}switchUser(){this.showUserDropdown=!1,this.showSwitchUserModal=!0}performSwitchUser(n,r){n&&r?this.authService.login(n,r).subscribe({next:()=>{this.currentUser=this.authService.getCurrentUser(),this.showSwitchUserModal=!1;const e=this.translation.translate("GLOBAL.REGISTER.SUCCESS.SWITCHED_USER").replace("{{name}}",this.currentUser?.firstName||"");this.toastService.show(e,"success"),this.registerService.getActiveRegister().subscribe()},error:e=>{this.toastService.show("Invalid credentials","error")}}):this.toastService.show(this.translation.translate("GLOBAL.REGISTER.USERNAME")+" and "+this.translation.translate("GLOBAL.REGISTER.PASSWORD")+" required","error")}manageRegister(){this.showUserDropdown=!1,this.showRegisterModal=!0,this.currentRegister&&this.loadExpectedCash()}loadExpectedCash(){this.currentRegister&&(this.loadingExpectedCash.set(!0),this.registerService.getExpectedCash().subscribe({next:n=>{this.expectedCashData.set(n),this.loadingExpectedCash.set(!1)},error:n=>{console.error("Error loading expected cash:",n),this.loadingExpectedCash.set(!1)}}))}refreshExpectedCash(){this.loadExpectedCash()}openRegister(n,r){const e=parseFloat(r)||0;this.registerService.openRegister(e,n).subscribe({next:g=>{this.showRegisterModal=!1,this.toastService.show(this.translation.translate("GLOBAL.REGISTER.SUCCESS.OPENED"),"success")},error:g=>{const l=g.error?.message||this.translation.translate("GLOBAL.REGISTER.ERRORS.ALREADY_OPEN");this.toastService.show(l,"error")}})}closeRegister(n,r){if(!this.currentRegister)return;if("admin"!==this.currentUser?.role&&"manager"!==this.currentUser?.role)return void this.toastService.show(this.translation.translate("GLOBAL.REGISTER.ERRORS.PERMISSION_DENIED"),"error");const e=n.replace(/[^0-9.-]/g,""),g=parseFloat(e);if(isNaN(g)||g<0)return void this.toastService.show(this.translation.translate("GLOBAL.REGISTER.ERRORS.INVALID_AMOUNT"),"error");const l=this.expectedCashData()?.expectedCash;if(null!=l){const p=g-l;if(Math.abs(p)>.01){const v=p>0?`+${p.toFixed(2)}`:p.toFixed(2),R=this.translation.translate("GLOBAL.REGISTER.CONFIRM_DIFFERENCE")||`Cash difference detected: ${v}. Continue?`;if(!confirm(R.replace("{difference}",v)))return}}this.registerService.closeRegister(this.currentRegister._id,g,r).subscribe({next:p=>{this.showRegisterModal=!1;const M=p.cashDifference||0,v=0!==M?` (${M>0?"+":""}${M.toFixed(2)} difference)`:"",R=this.translation.translate("GLOBAL.REGISTER.SUCCESS.CLOSED")+v;this.toastService.show(R,0===M?"success":"info")},error:p=>{const M=p.error?.message||this.translation.translate("GLOBAL.REGISTER.ERRORS.PERMISSION_DENIED");this.toastService.show(M,"error")}})}openWithdrawModal(){this.showUserDropdown=!1,this.showWithdrawModal=!0}processWithdraw(n,r){if(!this.currentRegister)return void this.toastService.show(this.translation.translate("WITHDRAW.ERRORS.NO_REGISTER"),"error");if("admin"!==this.currentUser?.role)return void this.toastService.show(this.translation.translate("WITHDRAW.ERRORS.PERMISSION_DENIED"),"error");const e=n.replace(/[^0-9.-]/g,""),g=parseFloat(e);if(isNaN(g)||g<=0)return void this.toastService.show(this.translation.translate("WITHDRAW.ERRORS.INVALID_AMOUNT"),"error");if(!r||0===r.trim().length)return void this.toastService.show(this.translation.translate("WITHDRAW.ERRORS.REASON_REQUIRED"),"error");const l=this.expectedCashData()?.expectedCash;if(void 0!==l&&g>l){const p=this.translation.translate("WITHDRAW.CONFIRM_EXCEED")||`Withdraw amount (${g}) exceeds expected cash (${l}). Continue?`;if(!confirm(p))return}this.withdrawProcessing=!0,this.registerService.recordWithdrawal(this.currentRegister._id,g,r.trim()).subscribe({next:p=>{this.showWithdrawModal=!1,this.withdrawProcessing=!1,this.toastService.show(this.translation.translate("WITHDRAW.SUCCESS"),"success"),this.loadExpectedCash()},error:p=>{this.withdrawProcessing=!1;const M=p.error?.message||this.translation.translate("WITHDRAW.ERRORS.FAILED");this.toastService.show(M,"error")}})}getRegisterDurationHours(){if(!this.currentRegister||!this.currentRegister.openedAt)return 0;const n=new Date(this.currentRegister.openedAt).getTime();return(Date.now()-n)/36e5}isRegisterApproachingAutoClose(){return this.getRegisterDurationHours()>=14}isRegisterOverdue(){return this.getRegisterDurationHours()>=16}logout(){this.showUserDropdown=!1,this.authService.logout()}static{this.\u0275fac=function(r){return new(r||o)(t.rXU(B.u),t.rXU(u.Ix),t.rXU(N.L),t.rXU(_.f),t.rXU(W.h),t.rXU(z.D),t.rXU(H.F))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-layout"]],hostBindings:function(r,e){1&r&&t.bIt("click",function(l){return e.onDocumentClick(l)},t.EBC)},decls:110,vars:77,consts:[["switchUsername",""],["switchPassword",""],["withdrawAmount",""],["withdrawReason",""],["registerNumber",""],["openingCash",""],["closingCash",""],["registerNotes",""],[1,"animated-background"],[1,"gradient-blob","blob1"],[1,"gradient-blob","blob2"],[1,"gradient-blob","blob3"],[1,"gradient-blob","blob4"],[1,"glass-overlay"],[1,"noise"],[1,"top-header"],[1,"header-content"],[1,"sidebar-header"],[1,"fas","fa-store"],[3,"title","icon"],[4,"ngIf"],["aria-label","Toggle menu","type","button",1,"mobile-sidebar-toggle",3,"click"],[1,"fas","fa-bars"],[1,"user-swap",3,"click"],[1,"fa-solid","fa-people-arrows"],[1,"user-info",3,"click"],[1,"user-name"],[1,"fas","fa-user-circle","user-avatar"],["class","user-dropdown",3,"click",4,"ngIf"],[1,"app-layout"],[1,"sidebar"],[1,"sidebar-nav"],["class","sidebar-btn","routerLink","/dashboard","routerLinkActive","active",4,"ngIf"],["routerLink","/pos","routerLinkActive","active",1,"sidebar-btn"],[1,"fas","fa-cash-register"],["routerLink","/cashier","routerLinkActive","active",1,"sidebar-btn"],[1,"fas","fa-calculator"],["class","sidebar-btn","routerLink","/statistics","routerLinkActive","active",4,"ngIf"],["routerLink","/inventory","routerLinkActive","active",1,"sidebar-btn"],[1,"fas","fa-warehouse"],["class","sidebar-btn","routerLink","/providers","routerLinkActive","active",4,"ngIf"],["class","sidebar-btn","routerLink","/sales","routerLinkActive","active",4,"ngIf"],["class","sidebar-btn","routerLink","/registers","routerLinkActive","active",4,"ngIf"],["class","sidebar-btn","routerLink","/users","routerLinkActive","active",4,"ngIf"],[1,"main-wrapper"],["class","auto-close-warning",3,"critical",4,"ngIf"],[1,"page-content"],["icon","fas fa-cash-register","size","md",3,"close","show","title"],["class","register-form",4,"ngIf"],["icon","fas fa-exchange-alt","size","md",3,"close","show","title"],[1,"switch-user-form"],[1,"modal-description"],[1,"form-group"],["type","text","autocomplete","username",1,"form-control"],["type","password","autocomplete","current-password",1,"form-control"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-exchange-alt"],["icon","fas fa-hand-holding-usd","size","md",3,"close","show","title","closeOnBackdropClick"],[1,"withdraw-modal-content"],[1,"withdraw-info"],["class","current-cash-info",4,"ngIf"],["for","withdrawAmount"],["type","number","id","withdrawAmount","step","0.01","min","0.01",1,"form-control",3,"placeholder"],["for","withdrawReason"],["id","withdrawReason","rows","3","required","",1,"form-control",3,"placeholder"],["modal-footer","",1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-danger",3,"click","disabled"],["class","fas fa-spinner fa-spin",4,"ngIf"],["class","fas fa-hand-holding-usd",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"user-dropdown",3,"click"],[1,"dropdown-header"],[1,"dropdown-user-name"],[1,"user-role"],[1,"dropdown-language"],[1,"language-label"],[1,"language-options"],[1,"dropdown-item","lang-item",3,"click"],[1,"lang-name"],[1,"language-section"],[1,"dropdown-item","theme-toggle-btn",3,"click"],[1,"theme-icon"],[1,"theme-label"],[1,"dropdown-divider"],["class","dropdown-item",3,"click",4,"ngIf"],[1,"dropdown-item",3,"click"],[1,"fas","fa-cog"],[1,"dropdown-item","logout-item",3,"click"],[1,"fas","fa-sign-out-alt"],[1,"fas","fa-hand-holding-usd"],["routerLink","/dashboard","routerLinkActive","active",1,"sidebar-btn"],[1,"fas","fa-chart-line"],["routerLink","/statistics","routerLinkActive","active",1,"sidebar-btn"],[1,"fas","fa-chart-bar"],["routerLink","/providers","routerLinkActive","active",1,"sidebar-btn"],[1,"fas","fa-truck"],["routerLink","/sales","routerLinkActive","active",1,"sidebar-btn"],[1,"fas","fa-shopping-cart"],["routerLink","/registers","routerLinkActive","active",1,"sidebar-btn"],["routerLink","/users","routerLinkActive","active",1,"sidebar-btn"],[1,"fas","fa-users"],[1,"auto-close-warning"],[1,"fas","fa-exclamation-triangle"],[1,"btn-small",3,"click"],[1,"register-form"],["type","text",1,"form-control",3,"value"],["type","number","value","0","step","0.01",1,"form-control"],[1,"fas","fa-check"],[1,"register-info"],["class","expected-cash-section",4,"ngIf"],["class","loading-expected-cash",4,"ngIf"],["class","permission-notice",4,"ngIf"],[1,"expected-cash-section"],[1,"expected-cash-header"],[1,"expected-cash-details"],[1,"cash-row"],[1,"label"],[1,"value"],[1,"value","cash-sales"],["class","cash-row",4,"ngIf"],[1,"cash-row","total"],[1,"sales-summary"],[1,"fas","fa-receipt"],[1,"fas","fa-dollar-sign"],[1,"value","withdrawals"],[1,"loading-expected-cash"],[1,"fas","fa-spinner","fa-spin"],[1,"permission-notice"],[1,"fas","fa-info-circle"],["type","number","step","0.01",1,"form-control",3,"placeholder"],["rows","3",1,"form-control"],[1,"btn","btn-danger",3,"click"],[1,"fas","fa-times"],[1,"current-cash-info"],[1,"info-row"]],template:function(r,e){if(1&r){const g=t.RV6();t.j41(0,"div",8),t.nrm(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"div",13)(6,"div",14),t.k0s(),t.j41(7,"header",15)(8,"div",16)(9,"div",17),t.nrm(10,"i",18),t.k0s(),t.j41(11,"app-page-title",19),t.DNE(12,V,2,1,"ng-container",20),t.k0s(),t.j41(13,"button",21),t.bIt("click",function(){return a.eBV(g),a.Njj(e.toggleSidebar())}),t.nrm(14,"i",22),t.k0s(),t.nrm(15,"app-global-search"),t.j41(16,"button",23),t.bIt("click",function(){return a.eBV(g),a.Njj(e.switchUser())}),t.nrm(17,"i",24),t.k0s(),t.j41(18,"div",25),t.bIt("click",function(){return a.eBV(g),a.Njj(e.toggleUserDropdown())}),t.j41(19,"span",26),t.EFF(20),t.nI1(21,"translate"),t.k0s(),t.nrm(22,"i",27),t.DNE(23,J,44,34,"div",28),t.k0s()()(),t.j41(24,"div",29)(25,"aside",30)(26,"nav",31),t.DNE(27,K,5,3,"button",32),t.j41(28,"button",33),t.nrm(29,"i",34),t.j41(30,"span"),t.EFF(31),t.nI1(32,"translate"),t.k0s()(),t.j41(33,"button",35),t.nrm(34,"i",36),t.j41(35,"span"),t.EFF(36),t.nI1(37,"translate"),t.k0s()(),t.DNE(38,Z,5,3,"button",37),t.j41(39,"button",38),t.nrm(40,"i",39),t.j41(41,"span"),t.EFF(42),t.nI1(43,"translate"),t.k0s()(),t.DNE(44,q,5,3,"button",40)(45,tt,5,3,"button",41)(46,nt,5,3,"button",42)(47,et,5,3,"button",43),t.k0s()(),t.j41(48,"div",44),t.DNE(49,at,7,7,"div",45),t.nrm(50,"app-toast"),t.j41(51,"main",46),t.nrm(52,"router-outlet"),t.k0s()()(),t.j41(53,"app-modal",47),t.nI1(54,"translate"),t.bIt("close",function(){return a.eBV(g),a.Njj(e.showRegisterModal=!1)}),t.DNE(55,st,20,14,"div",48)(56,pt,21,20,"div",48),t.k0s(),t.j41(57,"app-modal",49),t.nI1(58,"translate"),t.bIt("close",function(){return a.eBV(g),a.Njj(e.showSwitchUserModal=!1)}),t.j41(59,"div",50)(60,"p",51),t.EFF(61),t.nI1(62,"translate"),t.k0s(),t.j41(63,"div",52)(64,"label"),t.EFF(65),t.nI1(66,"translate"),t.k0s(),t.nrm(67,"input",53,0),t.k0s(),t.j41(69,"div",52)(70,"label"),t.EFF(71),t.nI1(72,"translate"),t.k0s(),t.nrm(73,"input",54,1),t.k0s(),t.j41(75,"button",55),t.bIt("click",function(){a.eBV(g);const p=t.sdS(68),M=t.sdS(74);return a.Njj(e.performSwitchUser(p.value,M.value))}),t.nrm(76,"i",56),t.EFF(77),t.nI1(78,"translate"),t.k0s()()(),t.j41(79,"app-modal",57),t.nI1(80,"translate"),t.bIt("close",function(){return a.eBV(g),a.Njj(e.showWithdrawModal=!1)}),t.j41(81,"div",58)(82,"div",59)(83,"p"),t.EFF(84),t.nI1(85,"translate"),t.k0s(),t.DNE(86,ht,8,6,"div",60),t.k0s(),t.j41(87,"div",52)(88,"label",61),t.EFF(89),t.nI1(90,"translate"),t.k0s(),t.nrm(91,"input",62,2),t.nI1(93,"translate"),t.k0s(),t.j41(94,"div",52)(95,"label",63),t.EFF(96),t.nI1(97,"translate"),t.k0s(),t.nrm(98,"textarea",64,3),t.nI1(100,"translate"),t.k0s()(),t.j41(101,"div",65)(102,"button",66),t.bIt("click",function(){return a.eBV(g),a.Njj(e.showWithdrawModal=!1)}),t.EFF(103),t.nI1(104,"translate"),t.k0s(),t.j41(105,"button",67),t.bIt("click",function(){a.eBV(g);const p=t.sdS(92),M=t.sdS(99);return a.Njj(e.processWithdraw(p.value,M.value))}),t.DNE(106,_t,1,0,"i",68)(107,ut,1,0,"i",69),t.EFF(108),t.nI1(109,"translate"),t.k0s()()()}2&r&&(t.R7$(11),t.Y8G("title",e.pageTitle)("icon",e.pageIcon),t.R7$(),t.Y8G("ngIf",e.pageActions),t.R7$(8),t.JRh((null==e.currentUser?null:e.currentUser.firstName)||t.bMT(21,41,"GLOBAL.USER")),t.R7$(3),t.Y8G("ngIf",e.showUserDropdown),t.R7$(2),t.AVh("mobile-open",e.mobileSidebarOpen),t.R7$(2),t.Y8G("ngIf",e.isAdminOrManager),t.R7$(4),t.JRh(t.bMT(32,43,"GLOBAL.SIDEBAR.POS")),t.R7$(5),t.JRh(t.bMT(37,45,"GLOBAL.SIDEBAR.QUICK_CASHIER")),t.R7$(2),t.Y8G("ngIf",e.isAdminOrManager),t.R7$(4),t.JRh(t.bMT(43,47,"GLOBAL.SIDEBAR.INVENTORY")),t.R7$(2),t.Y8G("ngIf",e.isAdmin),t.R7$(),t.Y8G("ngIf",e.isAdminOrManager),t.R7$(),t.Y8G("ngIf",e.isAdminOrManager),t.R7$(),t.Y8G("ngIf",e.isAdminOrManager),t.R7$(2),t.Y8G("ngIf",e.currentRegister&&e.isRegisterApproachingAutoClose()),t.R7$(4),t.Y8G("show",e.showRegisterModal)("title",t.bMT(54,49,e.currentRegister?"REGISTER.MODAL_TITLE_CLOSE":"REGISTER.MODAL_TITLE_OPEN")),t.R7$(2),t.Y8G("ngIf",!e.currentRegister),t.R7$(),t.Y8G("ngIf",e.currentRegister),t.R7$(),t.Y8G("show",e.showSwitchUserModal)("title",t.bMT(58,51,"REGISTER.SWITCH_USER_TITLE")),t.R7$(4),t.SpI(" ",t.bMT(62,53,"REGISTER.SWITCH_USER_DESC")," "),t.R7$(4),t.JRh(t.bMT(66,55,"REGISTER.USERNAME")),t.R7$(6),t.JRh(t.bMT(72,57,"REGISTER.PASSWORD")),t.R7$(6),t.SpI(" ",t.bMT(78,59,"GLOBAL.SWITCH_USER")," "),t.R7$(2),t.Y8G("show",e.showWithdrawModal)("title",t.bMT(80,61,"WITHDRAW.TITLE"))("closeOnBackdropClick",!1),t.R7$(5),t.JRh(t.bMT(85,63,"WITHDRAW.DESCRIPTION")),t.R7$(2),t.Y8G("ngIf",e.expectedCashData()),t.R7$(3),t.SpI("",t.bMT(90,65,"WITHDRAW.AMOUNT")," *"),t.R7$(2),t.Y8G("placeholder",t.bMT(93,67,"WITHDRAW.AMOUNT_PLACEHOLDER")),t.R7$(5),t.SpI("",t.bMT(97,69,"WITHDRAW.REASON")," *"),t.R7$(2),t.Y8G("placeholder",t.bMT(100,71,"WITHDRAW.REASON_PLACEHOLDER")),t.R7$(5),t.SpI(" ",t.bMT(104,73,"GLOBAL.CANCEL")," "),t.R7$(2),t.Y8G("disabled",e.withdrawProcessing),t.R7$(),t.Y8G("ngIf",e.withdrawProcessing),t.R7$(),t.Y8G("ngIf",!e.withdrawProcessing),t.R7$(),t.SpI(" ",t.bMT(109,75,"WITHDRAW.CONFIRM")," "))},dependencies:[m.MD,m.bT,m.T3,O.YN,b.Wk,b.wQ,u.n3,y,T.z,$,U.j,m.QX,m.vh,s.D,d.o],styles:['@import"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap";@charset "UTF-8";.dark-theme[_ngcontent-%COMP%]{--neumorphic-bg: #1a1d24;--neumorphic-surface: #222831;--text-primary: #e5e7eb;--text-secondary: #9ca3af;--text-muted: #6b7280;--bg-primary: #1a1d24;--bg-secondary: #222831;--bg-tertiary: #2d3139;--bg-hover: #3a3f4b;--bg-active: #4a5161;--border-color: #3a3f4b;--card-bg: #222831;--input-bg: #2d3139;--sidebar-text: rgba(255, 255, 255, .7);--sidebar-text-active: #ffffff;--shadow-neumorphic: 6px 6px 12px rgba(0, 0, 0, .4), -6px -6px 12px rgba(255, 255, 255, .02);--shadow-neumorphic-sm: 3px 3px 6px rgba(0, 0, 0, .3), -3px -3px 6px rgba(255, 255, 255, .02);--shadow-neumorphic-lg: 9px 9px 16px rgba(0, 0, 0, .5), -9px -9px 16px rgba(255, 255, 255, .03);--shadow-neumorphic-inset: inset 3px 3px 6px rgba(0, 0, 0, .3), inset -3px -3px 6px rgba(255, 255, 255, .02);background-color:var(--bg-primary);color:var(--text-primary)}.app-layout[_ngcontent-%COMP%]{display:flex;height:100vh;overflow:hidden;background:transparent;position:relative}.sidebar-header[_ngcontent-%COMP%]{padding:.75rem;display:flex;align-items:center;justify-content:center;color:#2d1674;font-size:1.25rem;font-weight:700}.sidebar-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem}.user-swap[_ngcontent-%COMP%]{background:transparent;border:none;color:#595959;font-size:1rem;padding:.5rem .75rem;border-radius:9999px;cursor:pointer;display:flex;align-items:center;justify-content:center;margin-right:.5rem;transition:.2s ease}.user-swap[_ngcontent-%COMP%]:hover{background:#0000000a;color:#2d1674}.user-swap[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.sidebar[_ngcontent-%COMP%]{width:80px;background:#ffffffd9;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);display:flex;flex-direction:column;box-shadow:none;z-index:1035;border-right:1px solid rgba(0,0,0,.06);margin:1rem;margin-right:0;border-radius:24px;height:calc(100vh - 2rem)}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]{flex:1;overflow-y:auto;display:flex;flex-direction:column;align-items:center;padding:.5rem;gap:.25rem}.sidebar[_ngcontent-%COMP%]   .sidebar-btn[_ngcontent-%COMP%]{width:100%;padding:.5rem .25rem;border:none;background:transparent;color:#595959;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:.25rem;font-size:.7rem;font-weight:500;transition:.2s ease;position:relative;border-radius:16px}.sidebar[_ngcontent-%COMP%]   .sidebar-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.sidebar[_ngcontent-%COMP%]   .sidebar-btn[_ngcontent-%COMP%]:hover{background:#0000000a;color:#262626}.sidebar[_ngcontent-%COMP%]   .sidebar-btn.active[_ngcontent-%COMP%]{background:#2d167414;color:#2d1674;font-weight:600}.main-wrapper[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden;margin:1rem 1rem 1rem .75rem;background:#ffffffd9;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:24px;box-shadow:0 4px 24px #0000000f}.auto-close-warning[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.75rem;padding:.5rem 1rem;background:linear-gradient(135deg,#ed893626,#ed893640);border-bottom:2px solid #ed8936;color:#dd6b20;font-weight:600;font-size:.875rem;z-index:1010;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}.auto-close-warning[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;animation:_ngcontent-%COMP%_shake .5s ease-in-out infinite}.auto-close-warning.critical[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f5656533,#f565654d);border-bottom-color:#f56565;color:#e53e3e;animation:_ngcontent-%COMP%_pulse 1s ease-in-out infinite}.auto-close-warning[_ngcontent-%COMP%]   .btn-small[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:9999px;border:1px solid transparent;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:inline-flex;align-items:center;justify-content:center;gap:.5rem;min-height:24px;box-shadow:none}.auto-close-warning[_ngcontent-%COMP%]   .btn-small[_ngcontent-%COMP%]:hover:not(:disabled){background:#0000000a}.auto-close-warning[_ngcontent-%COMP%]   .btn-small[_ngcontent-%COMP%]:active{transform:scale(.98)}.auto-close-warning[_ngcontent-%COMP%]   .btn-small[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.auto-close-warning[_ngcontent-%COMP%]   .btn-small[_ngcontent-%COMP%]{background:#2d1674;color:#fff;box-shadow:none}.auto-close-warning[_ngcontent-%COMP%]   .btn-small[_ngcontent-%COMP%]:hover:not(:disabled){background:#1e0f52;transform:translateY(-1px)}.auto-close-warning[_ngcontent-%COMP%]   .btn-small[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.auto-close-warning[_ngcontent-%COMP%]   .btn-small[_ngcontent-%COMP%]{padding:.25rem .75rem;font-size:.75rem;min-height:auto}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.8}}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-3px)}75%{transform:translate(3px)}}.top-header[_ngcontent-%COMP%]{background:#ffffffd9;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-bottom:1px solid rgba(0,0,0,.04);z-index:1030;border-radius:24px 24px 0 0}.top-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{padding:.75rem 1.5rem;display:flex;justify-content:space-between;align-items:center;gap:1.5rem}.top-header[_ngcontent-%COMP%]   .mobile-sidebar-toggle[_ngcontent-%COMP%]{display:none;background:transparent;border:none;color:#262626;font-size:1.25rem;padding:.25rem .5rem;border-radius:12px;cursor:pointer}.top-header[_ngcontent-%COMP%]   .global-search[_ngcontent-%COMP%]{flex:1;max-width:500px;position:relative}.top-header[_ngcontent-%COMP%]   .global-search[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:#8c8c8c;font-size:.9rem;z-index:1}.top-header[_ngcontent-%COMP%]   .global-search[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;padding:.5rem 1rem .5rem 2.5rem;border:1px solid rgba(0,0,0,.08);border-radius:9999px;font-size:.875rem;transition:.2s ease;background:#fff}.top-header[_ngcontent-%COMP%]   .global-search[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#00000029;box-shadow:0 0 0 3px #0000000a}.top-header[_ngcontent-%COMP%]   .global-search[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:#8c8c8c}.top-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;position:relative;cursor:pointer;padding:.5rem .75rem;border-radius:9999px;transition:background .2s ease}.top-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]:hover{background:#0000000a}.top-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{color:#262626;font-weight:500;font-size:.875rem}.top-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-role[_ngcontent-%COMP%]{color:#8c8c8c;font-size:.75rem;font-weight:500;padding:.25rem .75rem;background:#0000000a;border-radius:9999px;text-transform:capitalize}.top-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{font-size:1.5rem;color:#595959}.top-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-dropdown[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .5rem);right:0;background:#fff;border:1px solid rgba(0,0,0,.08);border-radius:20px;box-shadow:0 8px 32px #00000014;min-width:220px;z-index:1025;overflow:hidden;animation:_ngcontent-%COMP%_dropdownSlide .2s ease}.top-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-dropdown[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid rgba(0,0,0,.06);background:#f9fafb}.top-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-dropdown[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]   .dropdown-user-name[_ngcontent-%COMP%]{font-weight:600;color:#262626;font-size:.875rem;margin-bottom:.25rem}.top-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-dropdown[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]   .dropdown-user-email[_ngcontent-%COMP%]{font-size:.75rem;color:#595959}.top-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-dropdown[_ngcontent-%COMP%]   .dropdown-divider[_ngcontent-%COMP%]{height:1px;background:#0000000f}.top-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-dropdown[_ngcontent-%COMP%]   .dropdown-language[_ngcontent-%COMP%]{padding:.5rem 1rem}.top-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-dropdown[_ngcontent-%COMP%]   .dropdown-language[_ngcontent-%COMP%]   .language-label[_ngcontent-%COMP%]{font-size:.75rem;color:#595959;margin-bottom:.25rem}.top-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-dropdown[_ngcontent-%COMP%]   .dropdown-language[_ngcontent-%COMP%]   .language-options[_ngcontent-%COMP%]{display:flex;gap:.5rem}.top-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-dropdown[_ngcontent-%COMP%]   .dropdown-language[_ngcontent-%COMP%]   .language-options[_ngcontent-%COMP%]   .lang-item[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:9999px;background:transparent;color:#262626;font-size:.875rem;cursor:pointer;display:inline-flex;align-items:center;gap:.25rem;border:1px solid transparent;transition:.2s ease}.top-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-dropdown[_ngcontent-%COMP%]   .dropdown-language[_ngcontent-%COMP%]   .language-options[_ngcontent-%COMP%]   .lang-item[_ngcontent-%COMP%]:hover{background:#0000000a}.top-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-dropdown[_ngcontent-%COMP%]   .dropdown-language[_ngcontent-%COMP%]   .language-options[_ngcontent-%COMP%]   .lang-item.lang-active[_ngcontent-%COMP%]{background:#2d167414;border-color:#2d167429;color:#2d1674;font-weight:500}.top-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-dropdown[_ngcontent-%COMP%]   .language-section[_ngcontent-%COMP%]{padding:.5rem 1rem}.top-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-dropdown[_ngcontent-%COMP%]   .language-section[_ngcontent-%COMP%]   .language-label[_ngcontent-%COMP%]{font-size:.75rem;color:#595959;margin-bottom:.25rem}.top-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-dropdown[_ngcontent-%COMP%]   .language-section[_ngcontent-%COMP%]   .theme-toggle-btn[_ngcontent-%COMP%]{width:100%;padding:.5rem .75rem;border-radius:16px;background:transparent;color:#262626;font-size:.875rem;cursor:pointer;display:flex;align-items:center;gap:.5rem;border:1px solid transparent;transition:.2s ease}.top-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-dropdown[_ngcontent-%COMP%]   .language-section[_ngcontent-%COMP%]   .theme-toggle-btn[_ngcontent-%COMP%]   .theme-icon[_ngcontent-%COMP%]{font-size:1rem}.top-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-dropdown[_ngcontent-%COMP%]   .language-section[_ngcontent-%COMP%]   .theme-toggle-btn[_ngcontent-%COMP%]   .theme-label[_ngcontent-%COMP%]{flex:1;text-align:left}.top-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-dropdown[_ngcontent-%COMP%]   .language-section[_ngcontent-%COMP%]   .theme-toggle-btn[_ngcontent-%COMP%]:hover{background:#0000000a}@keyframes _ngcontent-%COMP%_dropdownSlide{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.top-header[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:none;background:transparent;color:#262626;font-size:.875rem;cursor:pointer;display:flex;align-items:center;gap:.75rem;transition:.2s ease;text-align:left}.top-header[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem;width:18px;color:#595959}.top-header[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background:#0000000a}.top-header[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#262626}.top-header[_ngcontent-%COMP%]   .dropdown-item.logout-item[_ngcontent-%COMP%], .top-header[_ngcontent-%COMP%]   .dropdown-item.logout-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f56565}.top-header[_ngcontent-%COMP%]   .dropdown-item.logout-item[_ngcontent-%COMP%]:hover{background:#f5656514}.page-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:0;background:transparent;height:calc(100vh - 80px);border-radius:0 0 24px 24px}@media(max-width:768px){.app-layout.pos-page[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{display:none}.sidebar[_ngcontent-%COMP%]{position:fixed;left:-80px;top:0;bottom:0;transition:left .3s ease;z-index:1035;margin:0;border-radius:0;height:100vh}.sidebar.mobile-open[_ngcontent-%COMP%]{left:0}.main-wrapper[_ngcontent-%COMP%]{width:100%;margin:.5rem}.top-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{padding:.5rem .75rem;gap:.5rem}.top-header[_ngcontent-%COMP%]   .mobile-sidebar-toggle[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;margin-right:.5rem;font-size:1rem;color:#262626;background:transparent;border:none;padding:.25rem .5rem;border-radius:12px;cursor:pointer}.top-header[_ngcontent-%COMP%]   .global-search[_ngcontent-%COMP%]{max-width:none;flex:1}.top-header[_ngcontent-%COMP%]   .global-search[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{font-size:.875rem;padding:.5rem .75rem .5rem 2.25rem}.top-header[_ngcontent-%COMP%]   .global-search[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{left:.75rem;font-size:.85rem}.top-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%], .top-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-role[_ngcontent-%COMP%]{display:none}.top-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{font-size:1.25rem}}.register-form[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.register-form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .75rem;color:#262626;font-size:1.1rem}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:#595959;font-size:.9rem}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:.5rem .75rem;border:1px solid rgba(0,0,0,.1);border-radius:6px;font-size:1rem;transition:border-color .2s,box-shadow .2s}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, .switch-user-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, .withdraw-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#2d1674;box-shadow:0 0 0 3px #2d16741a}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.register-form[_ngcontent-%COMP%]   .modal-description[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .modal-description[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .modal-description[_ngcontent-%COMP%]{color:#595959;font-size:.95rem;line-height:1.5;margin:0 0 1rem;padding:.75rem;background:#ffffffd9;border-radius:8px;border-left:3px solid #2d1674}.register-form[_ngcontent-%COMP%]   .register-info[_ngcontent-%COMP%], .register-form[_ngcontent-%COMP%]   .withdraw-info[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .register-info[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .withdraw-info[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .register-info[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .withdraw-info[_ngcontent-%COMP%]{background:#5a5959;padding:.75rem;border-radius:12px;margin-bottom:.5rem}.register-form[_ngcontent-%COMP%]   .register-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .register-form[_ngcontent-%COMP%]   .withdraw-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .register-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .withdraw-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .register-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .withdraw-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.25rem 0;color:#595959;font-size:.95rem}.register-form[_ngcontent-%COMP%]   .register-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .register-form[_ngcontent-%COMP%]   .withdraw-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .register-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .withdraw-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .register-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .withdraw-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#262626;font-weight:600}.register-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e6f7ff,#f0f9ff);border:2px solid #91d5ff;border-radius:12px;padding:1rem;margin:1rem 0}.register-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-header[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-header[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.75rem;color:#0050b3}.register-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem}.register-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:600}.register-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-details[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-details[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.register-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-details[_ngcontent-%COMP%]   .cash-row[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-details[_ngcontent-%COMP%]   .cash-row[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-details[_ngcontent-%COMP%]   .cash-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.25rem 0}.register-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-details[_ngcontent-%COMP%]   .cash-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-details[_ngcontent-%COMP%]   .cash-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-details[_ngcontent-%COMP%]   .cash-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#595959;font-size:.9rem}.register-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-details[_ngcontent-%COMP%]   .cash-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-details[_ngcontent-%COMP%]   .cash-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-details[_ngcontent-%COMP%]   .cash-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;color:#262626}.register-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-details[_ngcontent-%COMP%]   .cash-row[_ngcontent-%COMP%]   .value.cash-sales[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-details[_ngcontent-%COMP%]   .cash-row[_ngcontent-%COMP%]   .value.cash-sales[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-details[_ngcontent-%COMP%]   .cash-row[_ngcontent-%COMP%]   .value.cash-sales[_ngcontent-%COMP%]{color:#52c41a;font-weight:600}.register-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-details[_ngcontent-%COMP%]   .cash-row[_ngcontent-%COMP%]   .value.withdrawals[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-details[_ngcontent-%COMP%]   .cash-row[_ngcontent-%COMP%]   .value.withdrawals[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-details[_ngcontent-%COMP%]   .cash-row[_ngcontent-%COMP%]   .value.withdrawals[_ngcontent-%COMP%]{color:#ff4d4f;font-weight:600}.register-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-details[_ngcontent-%COMP%]   .cash-row.total[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-details[_ngcontent-%COMP%]   .cash-row.total[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-details[_ngcontent-%COMP%]   .cash-row.total[_ngcontent-%COMP%]{padding-top:.5rem;margin-top:.25rem;border-top:2px solid #91d5ff}.register-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-details[_ngcontent-%COMP%]   .cash-row.total[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-details[_ngcontent-%COMP%]   .cash-row.total[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-details[_ngcontent-%COMP%]   .cash-row.total[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#0050b3;font-size:1.25rem}.register-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-details[_ngcontent-%COMP%]   .sales-summary[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-details[_ngcontent-%COMP%]   .sales-summary[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-details[_ngcontent-%COMP%]   .sales-summary[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:.5rem;padding-top:.5rem;border-top:1px solid #d9d9d9}.register-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-details[_ngcontent-%COMP%]   .sales-summary[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-details[_ngcontent-%COMP%]   .sales-summary[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-details[_ngcontent-%COMP%]   .sales-summary[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;font-size:.85rem;color:#595959}.register-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-details[_ngcontent-%COMP%]   .sales-summary[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-details[_ngcontent-%COMP%]   .sales-summary[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .expected-cash-section[_ngcontent-%COMP%]   .expected-cash-details[_ngcontent-%COMP%]   .sales-summary[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0050b3}.register-form[_ngcontent-%COMP%]   .loading-expected-cash[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .loading-expected-cash[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .loading-expected-cash[_ngcontent-%COMP%]{background:#f0f9ff;border:1px solid #d9d9d9;border-radius:8px;padding:.75rem;margin:.75rem 0;text-align:center;color:#595959}.register-form[_ngcontent-%COMP%]   .loading-expected-cash[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .loading-expected-cash[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .loading-expected-cash[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.25rem;color:#2d1674}.register-form[_ngcontent-%COMP%]   .permission-notice[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .permission-notice[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .permission-notice[_ngcontent-%COMP%]{background:#2d16741a;border:1px solid rgba(45,22,116,.3);border-radius:6px;padding:.75rem;display:flex;gap:.5rem;align-items:flex-start;margin-top:.5rem}.register-form[_ngcontent-%COMP%]   .permission-notice[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .permission-notice[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .permission-notice[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#2d1674;font-size:1.2rem;margin-top:2px;flex-shrink:0}.register-form[_ngcontent-%COMP%]   .permission-notice[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .permission-notice[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .permission-notice[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#595959;font-size:.9rem;line-height:1.5}.register-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:9999px;border:1px solid transparent;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:inline-flex;align-items:center;justify-content:center;gap:.5rem;min-height:24px;box-shadow:none}.register-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover:not(:disabled), .switch-user-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover:not(:disabled), .withdraw-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#0000000a}.register-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active, .switch-user-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active, .withdraw-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active{transform:scale(.98)}.register-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled, .switch-user-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled, .withdraw-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.register-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.register-form[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:9999px;border:1px solid transparent;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:inline-flex;align-items:center;justify-content:center;gap:.5rem;min-height:24px;box-shadow:none}.register-form[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled), .switch-user-form[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled), .withdraw-form[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#0000000a}.register-form[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:active, .switch-user-form[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:active, .withdraw-form[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:active{transform:scale(.98)}.register-form[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:disabled, .switch-user-form[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:disabled, .withdraw-form[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.register-form[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background:#2d1674;color:#fff;box-shadow:none}.register-form[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled), .switch-user-form[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled), .withdraw-form[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#1e0f52;transform:translateY(-1px)}.register-form[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:active:not(:disabled), .switch-user-form[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:active:not(:disabled), .withdraw-form[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.register-form[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:9999px;border:1px solid transparent;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:inline-flex;align-items:center;justify-content:center;gap:.5rem;min-height:24px;box-shadow:none}.register-form[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled), .switch-user-form[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled), .withdraw-form[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#0000000a}.register-form[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:active, .switch-user-form[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:active, .withdraw-form[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:active{transform:scale(.98)}.register-form[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:disabled, .switch-user-form[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:disabled, .withdraw-form[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.register-form[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#262626;border:1px solid #e5e7eb}.register-form[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled), .switch-user-form[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled), .withdraw-form[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#0000000a;border-color:#9ca3af}.register-form[_ngcontent-%COMP%]   .btn.btn-danger[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .btn.btn-danger[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .btn.btn-danger[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:9999px;border:1px solid transparent;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:inline-flex;align-items:center;justify-content:center;gap:.5rem;min-height:24px;box-shadow:none}.register-form[_ngcontent-%COMP%]   .btn.btn-danger[_ngcontent-%COMP%]:hover:not(:disabled), .switch-user-form[_ngcontent-%COMP%]   .btn.btn-danger[_ngcontent-%COMP%]:hover:not(:disabled), .withdraw-form[_ngcontent-%COMP%]   .btn.btn-danger[_ngcontent-%COMP%]:hover:not(:disabled){background:#0000000a}.register-form[_ngcontent-%COMP%]   .btn.btn-danger[_ngcontent-%COMP%]:active, .switch-user-form[_ngcontent-%COMP%]   .btn.btn-danger[_ngcontent-%COMP%]:active, .withdraw-form[_ngcontent-%COMP%]   .btn.btn-danger[_ngcontent-%COMP%]:active{transform:scale(.98)}.register-form[_ngcontent-%COMP%]   .btn.btn-danger[_ngcontent-%COMP%]:disabled, .switch-user-form[_ngcontent-%COMP%]   .btn.btn-danger[_ngcontent-%COMP%]:disabled, .withdraw-form[_ngcontent-%COMP%]   .btn.btn-danger[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.register-form[_ngcontent-%COMP%]   .btn.btn-danger[_ngcontent-%COMP%], .switch-user-form[_ngcontent-%COMP%]   .btn.btn-danger[_ngcontent-%COMP%], .withdraw-form[_ngcontent-%COMP%]   .btn.btn-danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f56565,#e53e3e);color:#fff;box-shadow:0 4px 12px #f5656540}.register-form[_ngcontent-%COMP%]   .btn.btn-danger[_ngcontent-%COMP%]:hover:not(:disabled), .switch-user-form[_ngcontent-%COMP%]   .btn.btn-danger[_ngcontent-%COMP%]:hover:not(:disabled), .withdraw-form[_ngcontent-%COMP%]   .btn.btn-danger[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#e53e3e,#e22828);box-shadow:0 6px 16px #f5656559;transform:translateY(-1px)}.register-form[_ngcontent-%COMP%]   .btn.btn-danger[_ngcontent-%COMP%]:active:not(:disabled), .switch-user-form[_ngcontent-%COMP%]   .btn.btn-danger[_ngcontent-%COMP%]:active:not(:disabled), .withdraw-form[_ngcontent-%COMP%]   .btn.btn-danger[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0);box-shadow:0 4px 12px #f5656540}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.5rem;padding:1rem;border-top:1px solid #e5e7eb;background:#f9fafb;margin:0 -1rem -1rem;border-radius:0 0 16px 16px}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:9999px;border:1px solid transparent;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:inline-flex;align-items:center;justify-content:center;gap:.5rem;min-height:24px;box-shadow:none}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#0000000a}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active{transform:scale(.98)}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:120px;padding:.5rem 1rem;font-weight:500}.modal-footer[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:9999px;border:1px solid transparent;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:inline-flex;align-items:center;justify-content:center;gap:.5rem;min-height:24px;box-shadow:none}.modal-footer[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#0000000a}.modal-footer[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:active{transform:scale(.98)}.modal-footer[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.modal-footer[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background:#2d1674;color:#fff;box-shadow:none}.modal-footer[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#1e0f52;transform:translateY(-1px)}.modal-footer[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.modal-footer[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:9999px;border:1px solid transparent;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:inline-flex;align-items:center;justify-content:center;gap:.5rem;min-height:24px;box-shadow:none}.modal-footer[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#0000000a}.modal-footer[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:active{transform:scale(.98)}.modal-footer[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.modal-footer[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#262626;border:1px solid #e5e7eb}.modal-footer[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#0000000a;border-color:#9ca3af}.withdraw-modal-content[_ngcontent-%COMP%]   .withdraw-info[_ngcontent-%COMP%]   .current-cash-info[_ngcontent-%COMP%]{margin-top:.75rem;background:#fff;border-radius:12px;padding:.75rem;box-shadow:0 2px 8px #0000000a}.withdraw-modal-content[_ngcontent-%COMP%]   .withdraw-info[_ngcontent-%COMP%]   .current-cash-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.withdraw-modal-content[_ngcontent-%COMP%]   .withdraw-info[_ngcontent-%COMP%]   .current-cash-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.95rem;color:#595959;font-weight:500;display:flex;align-items:center;gap:.25rem}.withdraw-modal-content[_ngcontent-%COMP%]   .withdraw-info[_ngcontent-%COMP%]   .current-cash-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]:before{content:"\\1f4b0";font-size:1.1rem}.withdraw-modal-content[_ngcontent-%COMP%]   .withdraw-info[_ngcontent-%COMP%]   .current-cash-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#38a169;letter-spacing:-.5px}.withdraw-modal-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative}.withdraw-modal-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;font-size:.875rem;font-weight:600;color:#262626;margin-bottom:.25rem}.withdraw-modal-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{content:"*";color:#f56565;margin-left:-.25rem}.withdraw-modal-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:2px solid #e5e7eb;border-radius:12px;font-size:.95rem;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;color:#262626;background:#fff;transition:all .2s ease;box-shadow:inset 0 2px 4px #0000000a}.withdraw-modal-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:hover{border-color:#9ca3af}.withdraw-modal-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#ed8936;box-shadow:0 0 0 3px #ed893626,inset 0 2px 4px #0000000a}.withdraw-modal-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#bfbfbf;font-style:italic}.withdraw-modal-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, .withdraw-modal-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{opacity:1}.withdraw-modal-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:90px;line-height:1.5;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif}.withdraw-modal-content[_ngcontent-%COMP%] + [modal-footer][_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]   i.fa-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}}return o})()},6868:(x,P,c)=>{c.d(P,{m:()=>b});var a=c(4412),m=c(5312),O=c(375),u=c(6175);let b=(()=>{class C{constructor(i){this.http=i,this.cartItems=new a.t([]),this.cartItems$=this.cartItems.asObservable(),this.apiUrl=`${m.c.apiUrl}/carts`,this.loadCart()}loadCart(){const i=localStorage.getItem("pos_cart");if(i)try{const s=JSON.parse(i);this.cartItems.next(s)}catch(s){console.error("Error loading cart:",s)}}saveCart(){localStorage.setItem("pos_cart",JSON.stringify(this.cartItems.value))}addItem(i,s=1,d){const t=this.cartItems.value,_=t.find(w=>w.product._id===i._id);if(_)i.requiresScale&&d?(_.weight=d,_.quantity=d):_.quantity+=s,_.subtotal=_.product.price*_.quantity-_.product.price*_.quantity*_.discount/100;else{const w=i.requiresScale&&d?d:s;t.push({product:i,quantity:w,discount:0,weight:d,subtotal:i.price*w})}this.cartItems.next(t),this.saveCart()}updateQuantity(i,s){const d=this.cartItems.value,t=d.find(_=>_.product._id===i);t&&(t.quantity=s,s<=0?this.removeItem(i):(t.subtotal=t.product.price*t.quantity-t.product.price*t.quantity*t.discount/100,this.cartItems.next(d),this.saveCart()))}updateDiscount(i,s){const d=this.cartItems.value,t=d.find(_=>_.product._id===i);t&&(t.discount=Math.max(0,Math.min(100,s)),t.subtotal=t.product.price*t.quantity-t.product.price*t.quantity*t.discount/100,this.cartItems.next(d),this.saveCart())}removeItem(i){const s=this.cartItems.value.filter(d=>d.product._id!==i);this.cartItems.next(s),this.saveCart()}clearCart(){this.cartItems.next([]),localStorage.removeItem("pos_cart")}getTotal(){return this.cartItems.value.reduce((i,s)=>{const d=s.product.price*s.quantity,t=d*s.discount/100;return i+d-t+(d-t)*(s.product.taxRate||0)/100},0)}getSubtotal(){return this.cartItems.value.reduce((i,s)=>i+s.product.price*s.quantity,0)}getTotalDiscount(){return this.cartItems.value.reduce((i,s)=>i+s.product.price*s.quantity*s.discount/100,0)}getTotalTax(){return this.cartItems.value.reduce((i,s)=>{const d=s.product.price*s.quantity;return i+(d-d*s.discount/100)*(s.product.taxRate||0)/100},0)}getItemCount(){return this.cartItems.value.reduce((i,s)=>i+s.quantity,0)}getActiveCart(i){return this.http.get(`${this.apiUrl}/active/${i}`)}createCart(i){return this.http.post(this.apiUrl,i)}updateCart(i,s){return this.http.put(`${this.apiUrl}/${i}`,s)}deleteCart(i){return this.http.delete(`${this.apiUrl}/${i}`)}getAllCarts(i){return this.http.get(this.apiUrl,{params:i})}markCartAsAbandoned(i){return this.http.put(`${this.apiUrl}/${i}`,{status:"abandoned"})}getIncompleteCartForCashier(i){return this.http.get(`${this.apiUrl}`,{params:{cashier:i,status:"active"}})}static{this.\u0275fac=function(s){return new(s||C)(O.KVO(u.Qq))}}static{this.\u0275prov=O.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})()},7314:(x,P,c)=>{c.d(P,{D:()=>u});var a=c(5547),m=c(7705),O=c(6845);let u=(()=>{class b{constructor(f,i){this.t=f,this.cdr=i,this.t.translationsChanged$.subscribe(()=>{try{this.cdr.markForCheck()}catch{}})}transform(f,i){return this.t.translate(f,i)}static{this.\u0275fac=function(i){return new(i||b)(a.rXU(O.L,16),a.rXU(m.gRc,16))}}static{this.\u0275pipe=a.EJ8({name:"translate",type:b,pure:!1})}}return b})()},8397:(x,P,c)=>{c.d(P,{f:()=>O});var a=c(1413),m=c(375);let O=(()=>{class u{constructor(){this.subject=new a.B,this._id=0}show(C,f="info",i=2e3){const s={id:++this._id,message:C,type:f,duration:i};return this.subject.next(s),s.id}onToast(){return this.subject.asObservable()}static{this.\u0275fac=function(f){return new(f||u)}}static{this.\u0275prov=m.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})()}}]);